(this["webpackJsonpminstagram-front"]=this["webpackJsonpminstagram-front"]||[]).push([[0],{139:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},169:function(e,t,n){},175:function(e,t,n){"use strict";n.r(t);var c,a,s,i,r,o,j,l,b=n(1),d=n.n(b),O=n(52),u=n.n(O),m=(n(139),n(18)),h=n.n(m),x=n(24),f=n(5),p=(n(141),n(9)),g=n(13),v=n(3),w=(n(142),"http://www.dogmadevs.com:9000"),C=n(12),y=n.n(C),N=n(76),k=n.n(N),A=Object(b.createContext)({isAuthenticated:!1,setIsAuthenticated:function(){},user:{_id:"",name:"",avatar:"",email:""},setUser:function(){}}),S=n(216),E=n(4),M=n(14),T=M.a.input(c||(c=Object(v.a)(["\n  font-size: 1em;\n  padding-left: 0.4em;\n  padding-right: 0.4em;\n  border-radius: 3px;\n  height: 2.5em;\n"]))),L=M.a.textarea(a||(a=Object(v.a)(["\n  margin: 0;\n  padding: 7px;\n  border: 0;\n  font-family: inherit;\n"]))),F=M.a.button(s||(s=Object(v.a)(["\n  text-align: center;\n  font-size: 1em;\n  border: none;\n  background-color: dodgerblue;\n  border-radius: 4px;\n  color: white;\n  font-weight: 580;\n"]))),P=n(0);console.log(T);var z,_,R,U,D,H,I,G,q,B,V,W,K,Y,J,Q,Z,X,$,ee,te,ne,ce,ae,se,ie,re,oe,je,le,be,de,Oe,ue=Object(M.a)(T)(i||(i=Object(v.a)(["\n  width: 20em;\n  margin-bottom: 1em;\n  border: ",";\n"])),(function(e){return e.wrong?"2px solid red":"0.5px solid gainsboro"})),me=Object(M.a)(F)(r||(r=Object(v.a)(["\n  margin-top: 0.5em;\n  width: 20.6em;\n  height: 2.2em;\n  margin-bottom: 2em;\n"]))),he=Object(E.a)(o||(o=Object(v.a)(["\n  color: dodgerblue;\n  font-weight: 700;\n"]))),xe=Object(E.a)(j||(j=Object(v.a)(["\n  margin-top: 1.4em;\n"]))),fe=function(){var e=Object(b.useState)({email:"",password:"",name:""}),t=Object(f.a)(e,2),n=t[0],c=t[1],a=Object(b.useState)(!1),s=Object(f.a)(a,2),i=s[0],r=s[1],o=Object(b.useState)(""),j=Object(f.a)(o,2),d=j[0],O=j[1],u=Object(b.useContext)(A),m=u.setIsAuthenticated,C=u.setUser,N=Object(b.useState)({email:!1,name:!1,password:!1}),M=Object(f.a)(N,2),T=M[0],L=M[1];Object(b.useLayoutEffect)((function(){var e=localStorage.getItem("user");e&&k.a.get("credential")&&(m(!0),C(JSON.parse(e)))}),[]);var F=function(e){var t,n=e.email,c=e.name,a=e.password;return n.includes("@")&&n.includes(".")?c.includes("dog")?(t="\uacc4\uc815 \uc774\ub984\uc5d0 'dog'\uc744 \ud3ec\ud568\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",L(Object(g.a)(Object(g.a)({},T),{},{name:!0}))):a.length<8&&(t="\ube44\ubc00\ubc88\ud638\ub294 8\uc790 \uc774\uc0c1\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4.",L(Object(g.a)(Object(g.a)({},T),{},{password:!0}))):(t="\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc774\uba54\uc77c \uc785\ub2c8\ub2e4.",L(Object(g.a)(Object(g.a)({},T),{},{email:!0}))),t?{isValid:!1,msg:t}:{isValid:!0,msg:"validate successful"}},z=function(e){return function(t){O(""),L(Object(g.a)(Object(g.a)({},T),{},Object(p.a)({},e,!1))),c(Object(g.a)(Object(g.a)({},n),{},Object(p.a)({},e,t.target.value)))}},_=function(){var e=Object(x.a)(h.a.mark((function e(t){var a,s,o,j,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),L({email:!1,name:!1,password:!1}),i){e.next=18;break}return e.next=5,y.a.post(w+"/users/login",{email:n.email,password:n.password},{withCredentials:!0}).catch((function(e){return e.response}));case 5:if(200!==(null===(a=e.sent)||void 0===a?void 0:a.status)){e.next=13;break}return localStorage.setItem("user",JSON.stringify(a.data)),m(!0),C(a.data),e.abrupt("return");case 13:s="",404===a.status?(s="\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \uacc4\uc815\uc785\ub2c8\ub2e4.",L(Object(g.a)(Object(g.a)({},T),{},{email:!0}))):400===a.status?s="\uc798\ubabb\ub41c \uc694\uccad\uc785\ub2c8\ub2e4.":401===a.status&&(s="\uc798\ubabb\ub41c \ube44\ubc00\ubc88\ud638\uc785\ub2c8\ub2e4.",L(Object(g.a)(Object(g.a)({},T),{},{password:!0}))),O("\ub85c\uadf8\uc778 \uc2e4\ud328 : "+s);case 16:e.next=29;break;case 18:if(!(o=F(n)).isValid){e.next=26;break}return e.next=22,y.a.post(w+"/users/register",n).catch((function(e){return console.log(e),e.response}));case 22:200===(null===(j=e.sent)||void 0===j?void 0:j.status)?(O(""),r(!1)):(400===j.status?l="\uc798\ubabb\ub41c \uc694\uccad\uc785\ub2c8\ub2e4.":409===j.status&&(l="\uc774\ubbf8 \ub4f1\ub85d\ub41c \uacc4\uc815 \ub610\ub294 \uc774\ub984\uc785\ub2c8\ub2e4.",L(Object(g.a)(Object(g.a)({},T),{},{email:!0,name:!0}))),O("\uac00\uc785 \uc2e4\ud328 : "+l)),e.next=28;break;case 26:return O(o.msg),e.abrupt("return");case 28:c(Object(g.a)(Object(g.a)({},n),{},{password:"",name:""}));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsxs)("div",{id:"login",children:[Object(P.jsx)("p",{id:"loginTitle",children:"Minstagram"}),Object(P.jsxs)("form",{id:"loginForm",onSubmit:_,children:[Object(P.jsx)(ue,{type:"text",value:n.email,onChange:z("email"),placeholder:"\uc774\uba54\uc77c",wrong:T.email}),Object(P.jsx)("br",{}),i&&Object(P.jsxs)("span",{children:[Object(P.jsx)(ue,{type:"text",value:n.name,onChange:z("name"),placeholder:"\uacc4\uc815 \uc774\ub984",wrong:T.name}),Object(P.jsx)("br",{})]}),Object(P.jsx)(ue,{type:"password",value:n.password,onChange:z("password"),placeholder:"\ube44\ubc00\ubc88\ud638",wrong:T.password}),Object(P.jsx)("br",{}),Object(P.jsx)("div",{className:Object(E.a)(l||(l=Object(v.a)(["font-weight: bold; color: red;"]))),children:d}),Object(P.jsx)(me,{children:i?"\uac00\uc785":"\ub85c\uadf8\uc778"}),!i&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(S.a,{}),Object(P.jsxs)("div",{className:xe,children:["\uacc4\uc815\uc774 \uc5c6\uc73c\uc2e0\uac00\uc694?",Object(P.jsx)("a",{onClick:function(){r(!0),L({email:!1,name:!1,password:!1})},className:he,children:"\uac00\uc785\ud558\uae30"})]})]})]})]})},pe=n(54),ge=n(30),ve=function(e){var t=Object(E.a)(z||(z=Object(v.a)(["\n    display: flex;\n    align-items: center;\n    ","\n  "])),e.style),n=Object(E.a)(_||(_=Object(v.a)(["\n    width: 2.5em;\n    height: 2.5em;\n    object-fit: cover;\n    border-radius: 50%;\n    border: 1px solid gray;\n    ","\n  "])),e.imageStyle),c=Object(E.a)(R||(R=Object(v.a)(["\n    margin-left: ",";\n    font-size: 15px;\n    font-weight: 550;\n    ","\n  "])),e.avatarHide?void 0:"0.7em",e.nameStyle),a=e.user,s=e.onClick;return a?Object(P.jsx)(ge.b,{to:"/".concat(a.name),children:Object(P.jsxs)("span",{className:t,onClick:s,children:[!e.avatarHide&&(a.avatar.length>0?Object(P.jsx)("img",{src:w+"/images/"+a.avatar,className:n}):Object(P.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOIAAADfCAMAAADcKv+WAAAAMFBMVEWhtunL1vLM1/KftOm1xe3M1vKit+m/ze+kuOrH0/Gqveuyw+3D0PC6ye6uwOyftOY8UPyPAAADcklEQVR4nO3c3XKrIBSGYRGN4l/v/2632k6mSdPAslmB5X6fo0wPWr5ZCEKgVQUAAAAAAAAAAAAAAAAAAAAAAAAAkPO+6odhWYbhsn48H18t8+RcvXOhG/uTpfTDvKZr3dWacxqr86T0w7RW7t76oyZ3y17E992DgJ8p3XKGQvrF/RJwD9nlbt/f+flJwC1j6HM38Y989zzh1lkH053VT7GEW0jLGeM1/DTkbuhhvklL2IZL7qYeNaQl3MZVq101MeCWcTSZMTZd3Mrd2kN6ScJ6NlhGWRFda3DEuYgSuroxV8bUCeMq5G6xmJ/aeKybMpqb/3thQoMDziLsp66djEUUjqc7Y2Nq0hLjlrWH0QdxEesld6OFDkQcc7dZ5iJOaG7y788f8UgVjXXU/+BZ9EH6dmNuRE3dmPoe0diGqnih4ewt/JO3pq5FtPaOKh9Src0ZBx5Ga49iJV5N2eunaxmFRTQ2K26EY6q9rZuNrIj2+ulaxjG9jG2wmFC08re24r9KXlGpzokfH3q/u/KJE4fuhKEaMfFxrHVHU92ISTOHekLdiAl1rCfd/VP1iJGTRds+v3IDtDvqyl+ezB2105/y9SM+KWTdzpc3TPlviLhqwo+Tfm1dd5bPFN3z1dJtZ22/9qy2j6E526HbNeXQdPu5YhemeelPeXa68l+x/DnjAXjuPfNiTu94u8mMiCegv5j65B97x5/WjrhfdlvGsfnFuCyD9suOYkTvh7ELddz2yqp4Q0wr4vrS3bn65rLbk5X/fg9ObeGhEtH3888FYiymM7R8XAO28q/Bt5STlYtws7CA30MGA5WM7bhFQ87Fn9mUH0a5D1n2TTjfh78mdGUfbPBL2iQRzVjs1VTJd6aRjFPuLI8dOTD1a8Yir/u9roZ7xgLrmPp1aXrG4sYc8Zm3aMbirm3Kz59GM5Z1TuXA8dOEjCWdinvtUHONWNTjqBDQFdVVj1yQSlPM7Ci6NSxRzIU/lbHmK2MhZVQrYjFl1HsSN0WUUXh8WKaMw8Yvfjm9i1jC3Kg42OwZS3jF0QxYRk99+RLjLmL+Bccr1/qP5Y8ov/otU8CxcfldTGHE7NcaD1waFkbMvquqPNqUMN6oTvx7xOyTv3rE/P9eRGVL47s6+12j0QVtuSMCAAAAAAAAAAAAAAAAAAAAAAAAAACpf/P2JHtXd325AAAAAElFTkSuQmCC",className:n})),!e.nameHide&&Object(P.jsx)("span",{className:c,children:a.name})]})}):Object(P.jsx)("span",{children:"hmm, something gone wrong."})},we=n(21),Ce=n(210),ye=n(208),Ne=M.a.div(U||(U=Object(v.a)(["\n  font-weight: bold;\n  height: 2.5em;\n  position: relative;\n"]))),ke=M.a.div(D||(D=Object(v.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),Ae=M.a.div(H||(H=Object(v.a)(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 100%;\n  transform: translate(-2.6em, -50%);\n"]))),Se=M.a.a(I||(I=Object(v.a)(["\n  position: absolute;\n  font-size: 0.9em;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  color: dodgerblue;\n"]))),Ee=function(e){var t,n=Object(E.a)(G||(G=Object(v.a)(["\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: ",";\n    height: ",";\n    background-color: white;\n    box-shadow: 24;\n    padding: 0;\n    border-radius: 0.4em;\n    outline: none;\n    max-height: 75%;\n  "])),null!==(t=e.width)&&void 0!==t?t:"28em",e.height),c=Object(E.a)(q||(q=Object(v.a)(["\n    height: ",";\n  "])),e.title?"calc(100% - 2.5em)":"100%");return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(Ce.a,{open:e.open,onClose:e.onClose,children:Object(P.jsxs)(ye.a,{className:n,children:[e.title&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(Ne,{children:[Object(P.jsx)(ke,{children:e.title}),Object(P.jsx)(Ae,{children:e.next&&Object(P.jsx)(Se,{onClick:e.next.onClick,children:e.next.text})})]}),Object(P.jsx)(S.a,{})]}),Object(P.jsx)("div",{className:c,children:e.children})]})})})},Me=n(217),Te=M.a.input(B||(B=Object(v.a)(["\n  display: none;\n"]))),Le=M.a.div(V||(V=Object(v.a)(["\n  position: relative;\n  height: 100%;\n"]))),Fe=M.a.div(W||(W=Object(v.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n"]))),Pe=Object(E.a)(K||(K=Object(v.a)(["\n  font-size: 1.2em;\n  margin-bottom: 1em;\n  font-weight: 100;\n"]))),ze=Object(E.a)(Y||(Y=Object(v.a)(["\n  height: 100%;\n"]))),_e=Object(E.a)(J||(J=Object(v.a)(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n"]))),Re=(Object(E.a)(Q||(Q=Object(v.a)(["\nfont-weight: bold;\n  margin-top: 1.2em;\n  padding: 0.5em;\n  font-size: 0.8em;\n  color: red;\n"]))),function(e){var t=Object(b.useState)(null),n=Object(f.a)(t,2),c=n[0],a=n[1],s=Object(b.useContext)(A),i=s.user,r=s.setUser,o=s.setIsAuthenticated,j=Object(b.useState)(!1),l=Object(f.a)(j,2),d=l[0],O=l[1];return Object(P.jsxs)(Ee,{open:e.open,onClose:function(){a(null),O(!1),e.onClose()},title:d?"\ud504\ub85c\ud544\uc774 \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4":"\ud504\ub85c\ud544 \ubcc0\uacbd\ud558\uae30",next:c&&!d?{text:"\ubcc0\uacbd\ud558\uae30",onClick:function(){var e=new FormData;null!==c&&e.append("profile-picture",c[0]),y.a.post("".concat(w,"/users/changeProfile"),e,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){r(Object(g.a)(Object(g.a)({},i),{},{avatar:e.data.avatar})),O(!0)})).catch((function(){o(!1)}))}}:void 0,width:"40em",height:"40em",children:[!d&&Object(P.jsxs)(Le,{children:[!c&&Object(P.jsxs)(Fe,{children:[Object(P.jsx)("p",{className:Pe,children:"\uc5c5\ub85c\ub4dc\ud560 \uc0ac\uc9c4\uc744 \uc120\ud0dd\ud558\uc138\uc694."}),Object(P.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(P.jsx)(Te,{accept:"image/*",id:"contained-button-file",type:"file",onChange:function(e){return a(e.target.files)}}),Object(P.jsx)(Me.a,{variant:"contained",component:"span",children:"\ucef4\ud4e8\ud130\uc5d0\uc11c \uc120\ud0dd"})]})]}),c&&c.length>0&&Object(P.jsx)("div",{className:ze,children:Object(P.jsx)("img",{src:URL.createObjectURL(c[0]),className:_e})})]}),d&&Object(P.jsx)(Le,{children:Object(P.jsx)(Le,{children:Object(P.jsxs)(Fe,{children:[Object(P.jsx)("img",{src:"https://www.instagram.com/static/images/creation/30fpsCheckLoopsOnce.gif/10a8cbeb94ba.gif"}),Object(P.jsx)("p",{className:Pe,children:"\ud504\ub85c\ud544\uc774 \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4."})]})})})]})}),Ue=n(16),De=n.p+"static/media/before.d628f34a.svg",He=n.p+"static/media/next.ef7d1ff9.svg",Ie=Object(E.a)(Z||(Z=Object(v.a)(["\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 1.6em;\n  height: 1.6em;\n  opacity: 0.5;\n"]))),Ge=Object(E.a)(X||(X=Object(v.a)(["\n  ","\n  left: 93%;\n"])),Ie),qe=Object(E.a)($||($=Object(v.a)(["\n  ","\n  right: 93%;\n"])),Ie),Be=function(e){var t=Object(b.useState)(),n=Object(f.a)(t,2),c=n[0],a=n[1],s=Object(E.a)(ee||(ee=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    object-fit: cover;\n    position: relative;\n    height: ",";\n    ","\n  "])),(null===c||void 0===c?void 0:c.height)&&(null===c||void 0===c?void 0:c.height)>0&&e.sizeCalc?(null===c||void 0===c?void 0:c.height)+"px":"100%",e.containerStyle),i=Object(E.a)(te||(te=Object(v.a)(["\n    /* display: block;\n    max-height: 100%;\n    max-width: 100%; */\n    ","\n  "])),e.style),r=Object(b.useState)(0),o=Object(f.a)(r,2),j=o[0],l=o[1],d=Object(b.useRef)();return Object(P.jsxs)("div",{className:s,children:[j-1>=0&&Object(P.jsx)("img",{src:De,onClick:function(){j-1>=0&&l(j-1)},className:qe}),Object(P.jsx)("img",{className:i,src:e.isURL?e.pictures[j]:"".concat(w,"/images/").concat(e.pictures[j]),ref:d,onLoad:function(){c||0!==j||a({height:d.current.offsetHeight,width:d.current.offsetWidth})}}),j+1<=e.pictures.length-1&&Object(P.jsx)("img",{src:He,onClick:function(){j+1<=e.pictures.length-1&&l(j+1)},className:Ge})]})},Ve=Object(E.a)(ne||(ne=Object(v.a)(["\n  position: relative;\n  height: 2.5em;\n  font-size: 0.85em;\n"]))),We=Object(E.a)(ce||(ce=Object(v.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),Ke=Object(E.a)(ae||(ae=Object(v.a)(["\n  color: red;\n  font-weight: bold;\n"]))),Ye=function(e){var t=Object(E.a)(se||(se=Object(v.a)(["\n    ","\n    ","\n    ","\n  "])),We,e.style,e.isRedBold?Ke:void 0);return Object(P.jsx)("div",{onClick:e.onClick,className:Ve,children:Object(P.jsx)("span",{className:t,children:e.children})})},Je=function(e){y.a.delete("".concat(w,"/posts/").concat(e),{withCredentials:!0})},Qe=Object(b.createContext)({deletePost:function(e){},editPost:function(e,t){}}),Ze=Object(b.createContext)({post:{},setOpen:function(){}}),Xe=M.a.div(ie||(ie=Object(v.a)(["\n  height: 7em;\n  position: relative;\n"]))),$e=M.a.span(re||(re=Object(v.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-weight: bold;\n"]))),et=function(e){var t=e.open,n=e.onClose,c=e.title,a=e.message;return Object(P.jsxs)(Ee,{open:t,onClose:n,title:c,width:e.width,children:[a&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Xe,{children:Object(P.jsx)($e,{children:a})}),Object(P.jsx)(S.a,{})]}),Object(P.jsx)("div",{className:"minstagram-modal-buttons",children:e.children})]})},tt=Object(b.createContext)({setToastOpen:function(e){},toastMessage:"",setToastMessage:function(e){}}),nt={fontWeight:"bold",color:"red"},ct=function(e){var t=Object(b.useContext)(Ze).post,n=Object(b.useContext)(Qe).deletePost,c=Object(b.useContext)(tt),a=c.setToastMessage,s=c.setToastOpen,i=e.isComment?"\ub313\uae00":"\uac8c\uc2dc\ubb3c";return Object(P.jsxs)(et,{open:e.open,onClose:function(){e.onClose()},message:"".concat(i,"\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc5b4\uc694?"),width:"24em",children:[Object(P.jsx)(Ye,{onClick:function(){var c;e.isComment?(c=e.commentIndex,y.a.delete("".concat(w,"/posts/").concat(t._id,"/comment/").concat(c),{withCredentials:!0})):(Je(t._id),void 0!=t.order&&n(t.order)),e.onClose(),a("".concat(i,"\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")),s(!0)},style:nt,children:"\uc0ad\uc81c"}),Object(P.jsx)(S.a,{}),Object(P.jsx)(Ye,{onClick:function(){e.onClose()},children:"\ucde8\uc18c"})]})},at=function(e){var t=Object(b.useState)(e.open),n=Object(f.a)(t,2),c=n[0],a=n[1],s=Object(b.useState)(!1),i=Object(f.a)(s,2),r=i[0],o=i[1];Object(b.useEffect)((function(){a(e.open)}),[e.open]);return Object(P.jsxs)(et,{open:c,onClose:function(){a(!1),e.onClose()},width:e.width,children:[e.isAuthor&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(ct,{open:r,onClose:function(){o(!1),a(!1),e.onClose()},isComment:!0,commentIndex:e.index}),Object(P.jsx)(Ye,{onClick:function(){o(!0)},isRedBold:!0,children:"\uc0ad\uc81c"}),Object(P.jsx)(S.a,{})]}),Object(P.jsx)(Ye,{children:"\uc544\ubb34\ud55c\ud14c\ub098 \ub728\ub294 \ud56d\ubaa9"}),Object(P.jsx)(S.a,{}),Object(P.jsx)(Ye,{isRedBold:!0,children:"\uae30\ub2a5\uc740 \uc5c6\uc9c0\ub9cc \uac15\uc870"})]})},st=n.p+"static/media/option.bfbd5cca.svg",it=n(50),rt=n.n(it),ot=(n(111),n(81)),jt=n.n(ot);rt.a.extend(jt.a),rt.a.locale("ko");var lt,bt,dt,Ot,ut,mt,ht,xt,ft,pt,gt,vt,wt,Ct,yt,Nt,kt,At,St,Et,Mt,Tt,Lt,Ft,Pt,zt,_t,Rt,Ut,Dt,Ht,It,Gt,qt,Bt=Object(E.a)(oe||(oe=Object(v.a)(["\n  font-size: 0.8em;\n  margin-top: 0.5em;\n  margin-bottom: 1em;\n"]))),Vt=function(e){var t=e.comment,n=e.index,c=e.style,a=Object(b.useState)(!1),s=Object(f.a)(a,2),i=s[0],r=s[1],o=Object(b.useContext)(A).user,j=Object(E.a)(je||(je=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    margin-bottom: 0.2em;\n  "]))),l=Object(E.a)(le||(le=Object(v.a)(["\n    ","\n  "])),c),d=Object(E.a)(be||(be=Object(v.a)(["\n    display: inline-block;\n    font-weight: bold;\n    margin-right: 1em;\n    ","\n  "])),c);return Object(P.jsxs)("div",{className:j,children:[Object(P.jsx)(at,{open:i,onClose:function(){return r(!1)},index:t._id,width:"18em",isAuthor:t.author._id===o._id}),Object(P.jsxs)("div",{className:Object(E.a)(de||(de=Object(v.a)(["display: flex; flex-direction: row; justify-content: space-between"]))),children:[Object(P.jsxs)("div",{children:[Object(P.jsx)(ge.b,{to:"/".concat(t.author.name),children:Object(P.jsx)("span",{className:d,children:t.author.name})}),Object(P.jsx)("span",{className:l,children:t.content})]}),Object(P.jsx)("img",{src:st,className:Object(E.a)(Oe||(Oe=Object(v.a)(["width: 1em; height: 1em;"]))),onClick:function(){r(!0)}})]}),e.timestamp&&Object(P.jsx)("div",{className:Bt,children:rt()(new Date(t.timestamp)).fromNow()})]},n)},Wt=Object(E.a)(lt||(lt=Object(v.a)(["\n  margin-top: 0.6em;\n  color: darkgray;\n"]))),Kt=function(e){var t=e.comments,n=Object(b.useState)(e.isExpanded),c=Object(f.a)(n,2),a=c[0],s=c[1],i=Object(b.useContext)(Ze).setOpen,r=Object(E.a)(bt||(bt=Object(v.a)(["\n    text-align: left;\n    overflow-y: scroll;\n    margin-bottom: 0.5em;\n    ","\n  "])),e.containerStyle),o=function(t,n){return Object(P.jsx)(Vt,{comment:t,index:n,style:e.style,timestamp:e.timestamp},n)};Object(b.useEffect)((function(){s(e.isExpanded)}),[e.isExpanded]);return Object(P.jsxs)("div",{className:r,children:[!a&&t.length>0&&t.slice(t.length-2,t.length).map(o),a&&t.length>0&&t.map(o),!a&&t.length>2&&Object(P.jsx)("div",{className:Wt,children:Object(P.jsxs)("a",{onClick:function(){i(!0)},children:["\ub313\uae00 ",t.length,"\uac1c \ubaa8\ub450 \ubcf4\uae30"]})})]})},Yt=function(e){var t=e.children.props.value,n=e.textMaxLength,c=M.a.div(dt||(dt=Object(v.a)(["\n    position: absolute;\n    font-size: 0.8em;\n    color: ",";\n    top: 105%;\n    left: 94%;\n    transform: translate(-90%, -90%);\n    ","\n  "])),t.length<=n?"gray":"red",e.textLengthStyle),a=Object(E.a)(Ot||(Ot=Object(v.a)(["\n    width: 100%;\n    height: 12em;\n    position: relative;\n    ","\n  "])),e.style);return Object(b.useEffect)((function(){t.length>n&&e.setText(t.slice(0,n))}),[t]),Object(P.jsxs)("div",{className:a,children:[e.children,Object(P.jsx)(c,{children:"".concat(t.length,"/").concat(n)})]})},Jt=M.a.input(ut||(ut=Object(v.a)(["\n  display: none;\n"]))),Qt=M.a.div(mt||(mt=Object(v.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n"]))),Zt=Object(E.a)(ht||(ht=Object(v.a)(["\n  font-size: 1.2em;\n  margin-bottom: 1em;\n  font-weight: 100;\n"]))),Xt=Object(E.a)(xt||(xt=Object(v.a)(["\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n"]))),$t=Object(E.a)(ft||(ft=Object(v.a)(["\n  width: 35%;\n  border-left: 1px solid gainsboro;\n"]))),en=Object(E.a)(pt||(pt=Object(v.a)(["\n  margin: 0;\n  padding: 7px;\n  border: 0;\n  outline: none;\n  resize: none;\n  font-family: inherit;\n  width: 95%;\n  height: 100%;\n"]))),tn=Object(E.a)(gt||(gt=Object(v.a)(["\n  font-weight: bold;\n  margin-top: 1.2em;\n  padding: 0.5em;\n  font-size: 0.8em;\n  color: red;\n"]))),nn=function(e){var t=e.originalPost,n=Object(b.useState)(t?t.pictures:null),c=Object(f.a)(n,2),a=c[0],s=c[1],i=Object(b.useState)(t?t.text:""),r=Object(f.a)(i,2),o=r[0],j=r[1],l=Object(b.useContext)(A).user,d=Object(b.useState)(!1),O=Object(f.a)(d,2),u=O[0],m=O[1],p=Object(b.useState)(!1),g=Object(f.a)(p,2),C=g[0],N=g[1],k=Object(b.useState)(""),M=Object(f.a)(k,2),T=M[0],L=M[1],F=Object(b.useContext)(Qe).editPost,z=Object(b.useContext)(Ze).post,_=Object(E.a)(vt||(vt=Object(v.a)(["\n    /* position: relative; */\n    height: ",";\n  "])),!a||C?"25em":"100%");Object(b.useEffect)((function(){T.length>0&&o.length>0&&L("")}),[o]);var R=function(){var e=Object(x.a)(h.a.mark((function e(){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=8;break}if(n=new FormData,null!==a)for(c=0;c<a.length;c++)n.append("pictures",a[c]);return n.append("text",o),e.next=6,y.a.post("".concat(w,"/posts/new"),n,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}});case 6:e.next=11;break;case 8:return e.next=10,y.a.post("".concat(w,"/posts/").concat(t._id,"/edit"),{text:o},{withCredentials:!0});case 10:void 0!=z.order&&F(z.order,o);case 11:m(!1),N(!0);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)(Ee,{open:e.open,onClose:function(){j(""),s(null),m(!1),N(!1),e.onClose()},title:C?t?"\uac8c\uc2dc\ubb3c\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4":"\uac8c\uc2dc\ubb3c\uc774 \uacf5\uc720\ub418\uc5c8\uc2b5\ub2c8\ub2e4":t?"\uac8c\uc2dc\ubb3c \uc218\uc815\ud558\uae30":"\uc0c8 \uac8c\uc2dc\ubb3c \ub9cc\ub4e4\uae30",width:a&&!C?"75%":"40em",height:a&&!C?"80%":"40em",next:a&&!C?{text:t?"\uc218\uc815\ud558\uae30":"\uacf5\uc720\ud558\uae30",onClick:function(){o?(m(!0),R()):L("! \ubb38\uad6c\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694.")}}:void 0,children:[!C&&u&&Object(P.jsx)("div",{className:_,children:Object(P.jsx)(Qt,{children:Object(P.jsx)("p",{className:Zt,children:"\uc5c5\ub85c\ub4dc \uc911..."})})}),!C&&!u&&Object(P.jsxs)("div",{className:_,children:[!a&&Object(P.jsxs)(Qt,{children:[Object(P.jsx)("p",{className:Zt,children:"\uc5c5\ub85c\ub4dc\ud560 \uc0ac\uc9c4\uc744 \uc120\ud0dd\ud558\uc138\uc694."}),Object(P.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(P.jsx)(Jt,{accept:"image/*",id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){return s(e.target.files)}}),Object(P.jsx)(Me.a,{variant:"contained",component:"span",children:"\ucef4\ud4e8\ud130\uc5d0\uc11c \uc120\ud0dd"})]})]}),a&&a.length>0&&Object(P.jsxs)("div",{className:Xt,children:[Object(P.jsx)(Be,{pictures:t?t.pictures:Array.from(a).map((function(e){return URL.createObjectURL(e)})),isURL:!t,containerStyle:Object(E.a)(wt||(wt=Object(v.a)(["width: 65%;"]))),style:Object(E.a)(Ct||(Ct=Object(v.a)(["max-width: 100%; max-height: 100%;"])))}),Object(P.jsxs)("div",{className:$t,children:[Object(P.jsx)("div",{style:{margin:"0.5em"},children:Object(P.jsx)(ve,{user:l})}),Object(P.jsx)(Yt,{style:Object(E.a)(yt||(yt=Object(v.a)(["\n                    height: 19em;\n                    font-size: 0.8em;\n                  "]))),textMaxLength:500,setText:j,children:Object(P.jsx)("textarea",{className:en,placeholder:"\ubb38\uad6c \uc785\ub825...",value:o,onChange:function(e){return j(e.target.value)}})}),T&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(S.a,{}),Object(P.jsx)("div",{className:tn,children:T})]})]})]})]}),C&&!u&&Object(P.jsx)("div",{className:_,children:Object(P.jsxs)(Qt,{children:[Object(P.jsx)("img",{src:"https://www.instagram.com/static/images/creation/30fpsCheckLoopsOnce.gif/10a8cbeb94ba.gif"}),Object(P.jsx)("p",{className:Zt,children:"\uac8c\uc2dc\ubb3c\uc774 \uacf5\uc720\ub418\uc5c8\uc2b5\ub2c8\ub2e4."})]})})]})},cn={fontWeight:"bold",color:"red"},an=function(e){var t=d.a.useState(!1),n=Object(f.a)(t,2),c=n[0],a=n[1],s=Object(b.useState)(!1),i=Object(f.a)(s,2),r=i[0],o=i[1],j=Object(b.useContext)(Ze).post;return Object(P.jsxs)(et,{open:e.open,onClose:e.onClose,width:e.width,children:[Object(P.jsx)(ct,{open:c,onClose:function(){a(!1),e.onClose()}}),Object(P.jsx)(nn,{open:r,onClose:function(){o(!1),e.onClose()},originalPost:j}),e.isAuthor&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Ye,{onClick:function(){return o(!0)},children:"\uc218\uc815"}),Object(P.jsx)(S.a,{}),Object(P.jsx)(Ye,{onClick:function(){return a(!0)},style:cn,children:"\uc0ad\uc81c"}),Object(P.jsx)(S.a,{})]}),Object(P.jsx)(ge.b,{to:"/posts/".concat(j._id),onClick:e.onClose,children:Object(P.jsx)(Ye,{children:"\uac8c\uc2dc\ubb3c\ub85c \uc774\ub3d9"})})]})},sn=function(e){return y.a.get("".concat(w,"/posts/").concat(e))},rn=Object(E.a)(Nt||(Nt=Object(v.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 2em;\n  padding: 0.3em;\n  /* padding: 0.5em; */\n"]))),on=Object(E.a)(kt||(kt=Object(v.a)(["\n  margin-left: 0.4em;\n  width: 90%;\n  outline: none;\n  border: none;\n"]))),jn=Object(E.a)(At||(At=Object(v.a)(["\n  width: 2em;\n  margin-right: 0.4em;\n  color: dodgerblue;\n  font-weight: bold;\n"]))),ln=function(e){var t=Object(b.useState)(""),n=Object(f.a)(t,2),c=n[0],a=n[1];return Object(P.jsxs)("div",{className:rn,children:[Object(P.jsx)("input",{type:"text",onChange:function(e){a(e.target.value)},value:c,className:on,placeholder:"\ub313\uae00 \ub2ec\uae30..."}),Object(P.jsx)("a",{onClick:function(){e.onSubmit(c),a("")},className:jn,children:"\uac8c\uc2dc"})]})},bn=Object(E.a)(St||(St=Object(v.a)(["\n  padding-top: 4em;\n"]))),dn=function(){return Object(P.jsxs)("div",{className:bn,children:[Object(P.jsx)("h2",{children:"\uc8c4\uc1a1\ud569\ub2c8\ub2e4. \ud398\uc774\uc9c0\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."}),Object(P.jsx)("h3",{children:"\ud074\ub9ad\ud558\uc2e0 \ub9c1\ud06c\uac00 \uc798\ubabb\ub418\uc5c8\uac70\ub098 \ud398\uc774\uc9c0\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}),Object(P.jsx)(ge.b,{to:"/",children:Object(P.jsx)("p",{className:Object(E.a)(Et||(Et=Object(v.a)(["color: dodgerblue;"]))),children:"Minstagram\uc73c\ub85c \ub3cc\uc544\uac00\uae30."})})]})};rt.a.extend(jt.a),rt.a.locale("ko");var On,un,mn,hn,xn,fn,pn,gn,vn,wn,Cn,yn,Nn,kn,An,Sn,En,Mn,Tn,Ln,Fn,Pn,zn,_n,Rn,Un,Dn,Hn,In,Gn,qn,Bn,Vn,Wn,Kn,Yn,Jn,Qn,Zn,Xn,$n,ec,tc,nc,cc,ac=Object(E.a)(Mt||(Mt=Object(v.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-top: 0.6em;\n  padding-bottom: 0.6em;\n  padding-left: 0.7em;\n  padding-right: 0.7em;\n"]))),sc=pe.a.img(Tt||(Tt=Object(v.a)(["\n  width: 1em;\n  height: 1em;\n"]))),ic=Object(E.a)(Lt||(Lt=Object(v.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  font-size: 0.9em;\n  padding-left: 0.7em;\n  padding-right: 0.7em;\n  overflow: auto;\n"]))),rc=Object(E.a)(Ft||(Ft=Object(v.a)(["\n  margin-top: 1em;\n  margin-bottom: 1.4em;\n  font-size: 0.8em;\n  text-align: left;\n"]))),oc=Object(E.a)(Pt||(Pt=Object(v.a)(["\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n"]))),jc=Object(E.a)(zt||(zt=Object(v.a)(["\n  border-right: 1px solid gainsboro;\n  flex: 2;\n  height: 100%;\n"]))),lc=Object(E.a)(_t||(_t=Object(v.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  height: 100%;\n"]))),bc=Object(E.a)(Rt||(Rt=Object(v.a)(["\n  text-align: left;\n  margin-top: 0.7em;\n  margin-bottom: 0.2em;\n"]))),dc=Object(E.a)(Ut||(Ut=Object(v.a)(["\n  flex: 1;\n  height: 100%;\n  margin-top: 0.5em;\n"]))),Oc=Object(E.a)(Dt||(Dt=Object(v.a)(["\n  padding-bottom: 0.2em;\n  /* margin-top: 1em; */\n"]))),uc=Object(E.a)(Ht||(Ht=Object(v.a)(["\n  max-width: 100%;\n  max-height: 100%;\n"]))),mc=function(e){var t=Object(we.g)().postId,n=Object(b.useState)(),c=Object(f.a)(n,2),a=c[0],s=c[1],i=d.a.useState(!1),r=Object(f.a)(i,2),o=r[0],j=r[1],l=Object(b.useState)(!0),O=Object(f.a)(l,2),u=O[0],m=O[1],h=Object(b.useContext)(A).user,x=Object(b.useState)(!1),p=Object(f.a)(x,2),C=p[0],N=p[1],k=function(){return Object(P.jsx)(an,{open:o,onClose:function(){j(!1)},isAuthor:h._id===(null===a||void 0===a?void 0:a.author._id),width:"18em"})},M=Object(E.a)(It||(It=Object(v.a)(["\n    width: 55%;\n    /* max-height: 45em; */\n    max-width: 40em;\n    border: solid 0.1em gainsboro;\n    margin-bottom: 1em;\n    margin-left: auto;\n    margin-right: auto;\n    ","\n  "])),e.style),T=function(e){var t=a;y.a.post("".concat(w,"/posts/").concat(t._id,"/comment"),{content:e,likes:[]},{withCredentials:!0}).then((function(e){s(Object(g.a)(Object(g.a)({},t),{},{comments:[].concat(Object(Ue.a)(t.comments),[e.data])}))})).catch((function(e){console.log(e)}))};return Object(b.useLayoutEffect)((function(){e.post?(s(e.post),m(!1)):sn(t).then((function(e){s(e.data),m(!1)})).catch((function(e){console.log(e.response.status),400===e.response.status?s(void 0):console.log(e)}))}),[]),Object(b.useLayoutEffect)((function(){e.post&&s(e.post)}),[e.post]),Object(P.jsxs)(P.Fragment,{children:[a&&Object(P.jsxs)(Ze.Provider,{value:{post:Object(g.a)(Object(g.a)({},a),{},{order:e.order}),setOpen:N},children:[Object(P.jsx)(xc,{post:a,open:C,onClose:function(){return N(!1)}}),!u&&!a.isDeleted&&!e.isModal&&Object(P.jsxs)("div",{className:M,children:[k(),Object(P.jsxs)("div",{className:ac,children:[Object(P.jsx)(ve,{user:a.author}),Object(P.jsx)(sc,{src:st,onClick:function(){return j(!0)}})]}),Object(P.jsx)(S.a,{}),Object(P.jsx)(Be,{pictures:a.pictures,style:uc,containerStyle:Object(E.a)(Gt||(Gt=Object(v.a)(["min-height: 15em; max-height: 40em;"]))),sizeCalc:!0}),Object(P.jsxs)("div",{className:ic,children:[Object(P.jsxs)("div",{className:bc,children:[Object(P.jsx)("b",{children:a.author.name})," \xa0 ",a.text]}),Object(P.jsx)("div",{className:rc,children:rt()(new Date(a.timestamp)).fromNow()}),Object(P.jsx)(Kt,{comments:a.comments,isExpanded:!1,style:Oc})]}),Object(P.jsx)(S.a,{}),Object(P.jsx)(ln,{onSubmit:T})]}),!u&&!a.isDeleted&&e.isModal&&Object(P.jsxs)("div",{className:oc,children:[k(),Object(P.jsx)(Be,{pictures:a.pictures,containerStyle:jc,style:Object(E.a)(qt||(qt=Object(v.a)(["max-width: 100%; max-height: 100%;"])))}),Object(P.jsxs)("div",{className:lc,children:[Object(P.jsxs)("div",{className:ac,children:[Object(P.jsx)(ve,{user:a.author}),Object(P.jsx)(sc,{src:st,onClick:function(){return j(!0)}})]}),Object(P.jsx)(S.a,{}),Object(P.jsxs)("div",{className:ic,children:[Object(P.jsxs)("div",{className:bc,children:[Object(P.jsx)("b",{children:a.author.name})," \xa0 ",a.text]}),Object(P.jsx)("div",{className:rc,children:rt()(new Date(a.timestamp)).fromNow()}),Object(P.jsx)(Kt,{comments:a.comments,isExpanded:!0,style:Oc,containerStyle:dc,timestamp:!0})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)(S.a,{}),Object(P.jsx)(ln,{onSubmit:T})]})]})]})]}),!a&&Object(P.jsx)(dn,{})]})},hc=Object(E.a)(On||(On=Object(v.a)(["\n  margin-bottom: 0;\n  border: none;\n"]))),xc=function(e){return Object(P.jsx)(Ee,{open:e.open,onClose:e.onClose,width:"75%",height:"80%",children:Object(P.jsx)(mc,{post:e.post,style:hc,isModal:!0})})},fc=n(120),pc=n.n(fc),gc=Object(E.a)(un||(un=Object(v.a)(["\n  text-align: center;\n"]))),vc=Object(M.a)(T)(mn||(mn=Object(v.a)(["\n  width: 95%;\n  border: 0.5px gainsboro solid;\n"]))),wc=Object(M.a)(L)(hn||(hn=Object(v.a)(["\n  width: 95%;\n  border: 0.5px gainsboro solid;\n"]))),Cc=Object(M.a)(F)(xn||(xn=Object(v.a)(["\n  width: 70%;\n  height: 2.2em;\n  margin-top: 3em;\n"]))),yc=M.a.div(fn||(fn=Object(v.a)(["\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 1.5em;\n"]))),Nc=M.a.p(pn||(pn=Object(v.a)(["\n  padding-right: 2em;\n  text-align: right;\n  width: 2em;\n  font-weight: bold;\n"]))),kc=M.a.div(gn||(gn=Object(v.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n"]))),Ac=function(e){var t=Object(b.useContext)(A),n=t.user,c=t.setUser,a=Object(b.useState)(n.name),s=Object(f.a)(a,2),i=s[0],r=s[1],o=Object(b.useState)(e.bio),j=Object(f.a)(o,2),l=j[0],d=j[1],O=Object(b.useState)(!1),u=Object(f.a)(O,2),m=u[0],p=u[1],C=Object(we.f)();Object(b.useEffect)((function(){m&&C.push("/".concat(i))}),[m]);var N=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat(w,"/users/profile"),{name:i,bio:l},{withCredentials:!0});case 2:p(!0),c((function(e){return Object(g.a)(Object(g.a)({},e),{},{name:i})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsx)(Ee,{open:e.open,onClose:function(){p(!1),e.onClose()},title:"\ud504\ub85c\ud544 \uc218\uc815\ud558\uae30",width:"40em",height:"40em",next:m?void 0:{text:"\uc218\uc815\ud558\uae30",onClick:N},children:Object(P.jsxs)("div",{className:gc,children:[!m&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("p",{className:Object(E.a)(vn||(vn=Object(v.a)(["font-size: 2em; font-weight: 350; margin-top: 2em;"]))),children:"\ub098\uc758 Minstagram \ud504\ub85c\ud544"}),Object(P.jsxs)("div",{className:Object(E.a)(wn||(wn=Object(v.a)(["margin-left: 5em; margin-right: 5em; margin-top: 5em;"]))),children:[Object(P.jsxs)(yc,{children:[Object(P.jsx)(Nc,{children:"\uc774\ub984"}),Object(P.jsxs)("div",{className:Object(E.a)(Cn||(Cn=Object(v.a)(["flex: 1; display: flex; flex-direction: column; align-items: center;"]))),children:[Object(P.jsx)(vc,{type:"text",placeholder:n.name,value:i,onChange:function(e){return r(e.target.value)}}),Object(P.jsx)("p",{className:Object(E.a)(yn||(yn=Object(v.a)(["font-size: 0.8em; color: gray;"]))),children:"\uc0ac\ub78c\ub4e4\uc774 \ud68c\uc6d0\ub2d8\uc758 \uc54c\ub824\uc9c4 \uc774\ub984\uc744 \uc0ac\uc6a9\ud558\uc5ec \ud68c\uc6d0\ub2d8\uc758 \uacc4\uc815\uc744 \ucc3e\uc744 \uc218 \uc788\ub3c4\ub85d \ub3c4\uc640\uc8fc\uc138\uc694."})]})]}),Object(P.jsxs)(yc,{children:[Object(P.jsx)(Nc,{children:"\uc18c\uac1c"}),Object(P.jsx)(Yt,{textMaxLength:100,setText:d,style:Object(E.a)(Nn||(Nn=Object(v.a)(["flex: 1; height: 4em;"]))),textLengthStyle:Object(E.a)(kn||(kn=Object(v.a)([""]))),children:Object(P.jsx)(wc,{value:l,onChange:function(e){return d(e.target.value)}})})]}),Object(P.jsx)(S.a,{}),Object(P.jsx)(Cc,{children:"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd\ud558\uae30"})]})]}),m&&Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(kc,{children:[Object(P.jsx)("img",{src:"https://www.instagram.com/static/images/creation/30fpsCheckLoopsOnce.gif/10a8cbeb94ba.gif"}),Object(P.jsx)("p",{className:Object(E.a)(An||(An=Object(v.a)(["font-weight: 250; font-size: 1.5em;"]))),children:"\ud504\ub85c\ud544\uc744 \uc218\uc815\ud588\uc2b5\ub2c8\ub2e4."})]})})]})})},Sc=pe.a.div(Sn||(Sn=Object(v.a)(["\n  padding-top: 4em;\n  justify-content: center;\n  max-width: 70%;\n  margin-left: auto;\n  margin-right: auto;\n  align-items: center;\n  "]))),Ec=pe.a.div(En||(En=Object(v.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  /* width: 100%;\n  height: 100%; */\n  max-width: 100%;\n  margin-top: 2em;\n"]))),Mc=pe.a.img(Mn||(Mn=Object(v.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  /* margin: 0.3em; */\n  /* margin-left: auto;\n  margin-right: auto; */\n  object-fit: cover;\n"]))),Tc=Object(E.a)(Tn||(Tn=Object(v.a)(["\n  padding-top: 3em;\n  margin-bottom: 3em;\n  display: flex;\n  flex-direction: row;\n  "]))),Lc=Object(E.a)(Ln||(Ln=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-left: 3em;\n  text-align: left;\n"]))),Fc=Object(E.a)(Fn||(Fn=Object(v.a)(["\n  width: 24%;\n  padding-top: 25%; /* 1:1 Aspect Ratio */\n  position: relative;\n  margin: 0.5%;\n"]))),Pc=function(e){var t,n=Object(b.useContext)(A).user,c=Object(we.g)().userNameParam,a=e.userName||c,s=Object(b.useState)([]),i=Object(f.a)(s,2),r=i[0],o=i[1],j=Object(b.useState)(),l=Object(f.a)(j,2),d=l[0],O=l[1],u=Object(b.useState)(),m=Object(f.a)(u,2),p=m[0],g=m[1],C=Object(b.useState)(!1),N=Object(f.a)(C,2),k=N[0],M=N[1],T=Object(b.useState)(!1),L=Object(f.a)(T,2),F=L[0],z=L[1],_=Object(b.useState)(!1),R=Object(f.a)(_,2),U=R[0],D=R[1],H=Object(b.useState)(0),I=Object(f.a)(H,2),G=I[0],q=I[1],B=Object(b.useState)(!0),V=Object(f.a)(B,2),W=V[0],K=V[1];Object(b.useLayoutEffect)((function(){function e(){return e=Object(x.a)(h.a.mark((function e(){var t,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat(w,"/users/name"),{params:{name:a}}).catch((function(e){return e.response}));case 2:if(t=e.sent,K(!1),404!==t.status){e.next=6;break}return e.abrupt("return");case 6:return O(t.data),e.next=9,Y(t.data._id);case 9:return n=e.sent,e.next=12,J(t.data._id);case 12:c=e.sent,o(n),g(c);case 15:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[e.userName,c]);var Y=function(){var e=Object(x.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("no id given");case 2:return e.next=4,y.a.get("".concat(w,"/users/").concat(t,"/posts"),{withCredentials:!0});case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(x.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("no id given");case 2:return e.next=4,y.a.get("".concat(w,"/users/").concat(t,"/profile"));case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsxs)(P.Fragment,{children:[!W&&!d&&Object(P.jsx)(dn,{}),!W&&d&&p&&Object(P.jsxs)(Sc,{children:[Object(P.jsx)(Re,{open:k,onClose:function(){return M(!1)}}),Object(P.jsx)(xc,{open:F,onClose:function(){return z(!1)},post:r[G]}),Object(P.jsx)(Ac,{open:U,onClose:function(){return D(!1)},bio:null!==(t=null===p||void 0===p?void 0:p.bio)&&void 0!==t?t:""}),Object(P.jsxs)("div",{className:Tc,children:[Object(P.jsx)("div",{onClick:function(){return M(!0)},children:Object(P.jsx)(ve,{user:d,imageStyle:Object(E.a)(Pn||(Pn=Object(v.a)(["width: 10em; height: 10em;"]))),nameHide:!0})}),Object(P.jsxs)("div",{className:Lc,children:[Object(P.jsxs)("div",{className:Object(E.a)(zn||(zn=Object(v.a)(["display: flex; flex-direction: row; align-items: center;"]))),children:[Object(P.jsx)(ve,{user:d,nameStyle:Object(E.a)(_n||(_n=Object(v.a)(["font-size: 2.5em; font-weight: 250;"]))),avatarHide:!0,style:Object(E.a)(Rn||(Rn=Object(v.a)(["margin-right: 1em;"])))}),a===n.name&&Object(P.jsx)(pc.a,{onClick:function(){return D(!0)}})]}),Object(P.jsxs)("div",{className:Object(E.a)(Un||(Un=Object(v.a)(["padding-top: 1.3em; padding-bottom: 1.3em;"]))),children:["\uac8c\uc2dc\ubb3c ",Object(P.jsx)("b",{children:r.length})]}),Object(P.jsx)("div",{className:Object(E.a)(Dn||(Dn=Object(v.a)(["flex: 1;"]))),children:null===p||void 0===p?void 0:p.bio})]})]}),Object(P.jsx)(S.a,{}),Object(P.jsxs)(Ec,{children:[0===(null===r||void 0===r?void 0:r.length)&&Object(P.jsx)("span",{className:Object(E.a)(Hn||(Hn=Object(v.a)(["font-size: 1.3em;"]))),children:"\uc544\uc9c1 \uc544\ubb34 \uac83\ub3c4 \uc62c\ub9ac\uc9c0 \uc54a\uc558\uc5b4\uc694."}),(null===r||void 0===r?void 0:r.length)>0&&r.map((function(e,t){return Object(P.jsx)("div",{className:Fc,children:Object(P.jsx)(Mc,{src:w+"/images/"+e.pictures[0],alt:"a",onClick:function(){q(t),z(!0)}})},e._id)}))]})]})]})},zc=n.p+"static/media/heart.6837acf8.svg",_c=n.p+"static/media/newpost.ad666e89.svg",Rc=(n(169),n(121)),Uc=n.n(Rc),Dc=pe.a.img(In||(In=Object(v.a)(["\n  width: 1.5em;\n  height: 1.5em;\n  margin-right: 1em;\n"]))),Hc=Object(E.a)(Gn||(Gn=Object(v.a)(["\n  margin-right: 0.5em;\n"]))),Ic=function(){var e=Object(b.useContext)(A),t=e.user,n=e.setIsAuthenticated,c=e.setUser,a=Object(b.useState)(!1),s=Object(f.a)(a,2),i=s[0],r=s[1];return Object(P.jsxs)("div",{id:"TopBar",children:[Object(P.jsx)(nn,{open:i,onClose:function(){r(!1)}}),Object(P.jsx)(ge.b,{to:"/",children:Object(P.jsx)("span",{className:"logo",children:"Minstagram"})}),Object(P.jsxs)("span",{id:"TopBarRightSide",children:[Object(P.jsxs)("span",{id:"TopBarButtons",children:[Object(P.jsx)("a",{href:"https://psychedelic-feeling-5d5.notion.site/Junyeong-Choi-e84719c1ecfc464a9fc06908fd68a8b5",children:Object(P.jsx)(Uc.a,{className:Object(E.a)(qn||(qn=Object(v.a)(["margin-right: 0.5em;"])))})}),Object(P.jsx)(Dc,{src:zc,onClick:function(){y.a.get("".concat(w,"/users/logout"),{withCredentials:!0}),n(!1),c({_id:"",name:"",avatar:"",email:""})}}),Object(P.jsx)(Dc,{src:_c,onClick:function(){r(!0)}})]}),Object(P.jsx)("span",{className:Hc,children:Object(P.jsx)(ve,{nameHide:!0,user:t,imageStyle:Object(E.a)(Bn||(Bn=Object(v.a)(["width: 1.5em; height: 1.5em"])))})})]})]})},Gc=n(212),qc=n(123),Bc=n.n(qc),Vc=n(122),Wc=n.n(Vc),Kc=Object(E.a)(Vn||(Vn=Object(v.a)(["\n  position: fixed;\n  bottom: 50px;\n  right: 50px;\n"]))),Yc=Object(E.a)(Wn||(Wn=Object(v.a)(["\n  align-items: center;\n  flex-direction: column;\n  overflow-y: scroll;\n  height: calc(100% - 4em);\n  justify-content: center;\n  padding-top: 4em;\n"]))),Jc=function(e){var t,n=Object(b.useState)(null!==(t=e.posts)&&void 0!==t?t:[]),c=Object(f.a)(n,2),a=c[0],s=c[1],i=Object(b.useState)(!1),r=Object(f.a)(i,2),o=r[0],j=r[1],l=Object(b.useState)(""),d=Object(f.a)(l,2),O=d[0],u=d[1],m=Object(b.useState)(!1),p=Object(f.a)(m,2),v=p[0],C=p[1],N=Object(b.useState)(),k=Object(f.a)(N,2),A=k[0],S=k[1],E=Object(b.useState)(1),M=Object(f.a)(E,2),T=M[0],L=M[1],F=Object(b.useState)(!0),z=Object(f.a)(F,2),_=z[0],R=z[1],U=Object(b.useRef)();Object(b.useEffect)((function(){if(!e.posts&&_){var t=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat(w,"/posts/"),{params:{pageSize:5,page:T}});case 3:if((t=e.sent).data.data){e.next=7;break}return R(!1),e.abrupt("return");case 7:s((function(e){return[].concat(Object(Ue.a)(e),Object(Ue.a)(t.data.data))})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();t()}}),[T,_]);var D=Object(b.useCallback)((function(e){var t=e.target;t.scrollHeight-t.scrollTop===t.clientHeight&&L((function(e){return e+1}))}),[]);Object(b.useEffect)((function(){var e=Wc.a.throttle(D,300);return U.current&&U.current.addEventListener("scroll",e),function(){U.current&&U.current.removeEventListener("scroll",e)}}),[D,U.current]);return Object(P.jsxs)("div",{className:Yc,ref:U,children:[Object(P.jsx)(tt.Provider,{value:{setToastOpen:j,toastMessage:O,setToastMessage:u},children:Object(P.jsxs)(Qe.Provider,{value:{deletePost:function(e){s((function(t){return[].concat(Object(Ue.a)(t.slice(0,e)),Object(Ue.a)(t.slice(e+1)))}))},editPost:function(e,t){s((function(n){return[].concat(Object(Ue.a)(n.slice(0,e)),[Object(g.a)(Object(g.a)({},n[e]),{},{text:t})],Object(Ue.a)(n.slice(e+1)))})),S(e)}},children:[!a&&Object(P.jsx)("div",{children:"\ud45c\uc2dc\ud560 \ud3ec\uc2a4\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}),a&&function(){var e=a;return void 0!=A&&(e=[].concat(Object(Ue.a)(a.slice(0,A)),Object(Ue.a)(a.slice(A+1)))),v&&(e=Object(Ue.a)(e).reverse()),void 0!=A&&(e=[a[A]].concat(Object(Ue.a)(e))),e.map((function(t,n){return Object(P.jsx)(mc,{post:t,order:v?e.length-n-1:n},t._id)}))}()]})}),Object(P.jsx)(Bc.a,{className:Kc,onClick:function(){C((function(e){return!e})),S(void 0)}}),Object(P.jsx)(Gc.a,{open:o,autoHideDuration:6e3,onClose:function(e,t){"clickaway"!==t&&j(!1)},message:O})]})},Qc=n(209),Zc=n(213),Xc=n(215),$c=n(128),ea=Object(E.a)(Kn||(Kn=Object(v.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),ta=Object(E.a)(Yn||(Yn=Object(v.a)(["\n  max-height: 30em; \n  max-width: 60em;\n  overflow-y: scroll;\n  display: flex;\n  flex-direction: column;\n"]))),na=Object(E.a)(Jn||(Jn=Object(v.a)(["\n  display: flex;\n  align-items: flex-end;\n"]))),ca=Object(E.a)(Qn||(Qn=Object(v.a)(["\n  /* "," */\n  /* flex-direction: column;\n  align-self: flex-end; */\n  margin-right: 0;\n  margin-left: auto;\n"])),na),aa=Object(E.a)(Zn||(Zn=Object(v.a)(["\n  ","\n  flex-direction: row;\n  align-self: flex-start;\n"])),na),sa=Object(E.a)(Xn||(Xn=Object(v.a)(["\n  height: 1em;\n  padding: 1em;\n  border-radius: 1.2em;\n  margin-top: 0.3em;\n  margin-bottom: 0.3em;\n"]))),ia=Object(E.a)($n||($n=Object(v.a)(["\n  ",";\n  background-color: blue;\n  position: relative;\n  text-align: right;\n"])),sa),ra=Object(E.a)(ec||(ec=Object(v.a)(["\n  ",";\n  background-color: red;\n  position: relative;\n  text-align: left;\n"])),sa),oa=Object(E.a)(tc||(tc=Object(v.a)(["\n  color: green;\n"]))),ja=function(e){var t=e.direct,n=Object(b.useContext)(A).user;return Object(P.jsx)("div",{className:ta,children:t?t.messages.map((function(e){var t=e.author._id===n._id;return Object(P.jsx)("div",{className:ea,children:Object(P.jsxs)("div",{className:t?ca:aa,children:[!t&&Object(P.jsx)("div",{className:oa,children:Object(P.jsx)(ve,{user:e.author,nameHide:!0,imageStyle:Object(E.a)(nc||(nc=Object(v.a)(["width: 2em; height: 2em;"])))})}),Object(P.jsx)("div",{className:t?ia:ra,children:e.content})]})})})):"no content"})},la=n(127),ba=["messages"],da=function(e){var t=e.users,n=Object(b.useState)(null),c=Object(f.a)(n,2),a=c[0],s=c[1],i=Object(b.useState)(),r=Object(f.a)(i,2),o=r[0],j=r[1],l=Object(b.useState)(""),d=Object(f.a)(l,2),O=d[0],u=d[1],m=Object(b.useContext)(A).user,p=function(e){s((function(t){if(!t)return null;var n=t.messages,c=Object($c.a)(t,ba);return Object(g.a)({messages:[].concat(Object(Ue.a)(n),[e])},c)}))};Object(b.useEffect)((function(){var e=function(){var e=Object(x.a)(h.a.mark((function e(){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat(w,"/directs/withUsers"),{params:{userId1:t[0]._id,userId2:t[1]._id}});case 3:n=e.sent,s(n.data[0]),e.next=20;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.prev=10,e.next=13,y.a.post("".concat(w,"/directs/newRoom"),t.map((function(e){return e._id})));case 13:c=e.sent,s({_id:c.data,members:t,messages:[],bookmarks:[0,0]}),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(10),console.log(e.t1);case 20:case"end":return e.stop()}}),e,null,[[0,7],[10,17]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(b.useEffect)((function(){if(null!==a){var e=Object(la.a)(w);return e.on("connect",(function(){e.emit("join",a._id,k.a.get("credential"))})),e.on("messageEvent",p),j(e),function(){e.off("messageEvent",p),e.disconnect()}}}),[null===a||void 0===a?void 0:a.members]);return Object(P.jsxs)("div",{children:[a&&Object(P.jsx)(ja,{direct:a}),Object(P.jsxs)("div",{children:[Object(P.jsx)("input",{type:"text",value:O,onChange:function(e){return u(e.target.value)}}),Object(P.jsx)("input",{type:"button",value:"\ubcf4\ub0b4\uae30",onClick:function(){var e={author:m,content:O,timestamp:new Date};o&&o.emit("messageEvent",e),u("")}})]})]})},Oa=Object(E.a)(cc||(cc=Object(v.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n"]))),ua=function(){var e=Object(b.useContext)(A).user,t=Object(b.useState)([]),n=Object(f.a)(t,2),c=n[0],a=n[1],s=Object(b.useState)(),i=Object(f.a)(s,2),r=i[0],o=i[1],j=Object(b.useState)(""),l=Object(f.a)(j,2),d=l[0],O=l[1];Object(b.useLayoutEffect)((function(){y.a.get("".concat(w,"/directs/withUsers"),{params:{userId1:e._id}}).then((function(e){a(e.data)}))}),[e]);var u=function(t){return function(){o(t),y.a.post("".concat(w,"/directs/updateBookmark"),{roomId:c[t]._id,userId:e._id})}},m=function(){var t=Object(x.a)(h.a.mark((function t(){var n,c,s,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.get("".concat(w,"/users/name"),{params:{name:d}});case 2:return n=t.sent,c=[e,n.data],t.next=6,y.a.post("".concat(w,"/directs/newRoom"),{members:c});case 6:s=t.sent,i={_id:s.data,members:c,messages:[],bookmarks:[0,0]},a((function(e){return[].concat(Object(Ue.a)(e),[i])}));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(P.jsxs)("div",{className:Oa,children:[Object(P.jsxs)("div",{children:[Object(P.jsx)(Qc.a,{children:c.map((function(t,n){return function(t,n){for(var c=t.members.filter((function(t){return t._id!==e._id}))[0],a=-1,s=0;s<t.members.length;s++)t.members[s]._id===e._id&&(a=s);var i=t.messages.length-t.bookmarks[a]-1;return Object(P.jsx)(Zc.a,{children:Object(P.jsx)(Xc.a,{primary:"".concat(c.name," ").concat(i,"\uac1c \uba54\uc2dc\uc9c0"),onClick:u(n)},n)})}(t,n)}))}),Object(P.jsx)("input",{type:"text",value:d,onChange:function(e){return O(e.target.value)}}),Object(P.jsx)("input",{type:"button",onClick:m,value:"\uc2dc\uc791"})]}),null!=r&&Object(P.jsx)(da,{users:c[r].members})]})};var ma=function(){var e=d.a.useState(!1),t=Object(f.a)(e,2),n=t[0],c=t[1],a=Object(b.useState)({_id:"",name:"",avatar:"",email:""}),s=Object(f.a)(a,2),i=s[0],r=s[1];return console.log(i),Object(b.useEffect)((function(){Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n&&i._id.length>0)){e.next=12;break}return e.prev=1,e.next=4,y.a.get("".concat(w,"/users/").concat(i._id),{withCredentials:!0});case 4:t=e.sent,console.log(t.data),r(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()}),[n,i._id]),Object(P.jsx)(A.Provider,{value:{isAuthenticated:n,setIsAuthenticated:c,user:i,setUser:r},children:Object(P.jsxs)("div",{className:"App",children:[!n&&Object(P.jsx)(fe,{}),n&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Ic,{}),Object(P.jsx)("div",{id:"contentWrapper",children:Object(P.jsxs)(we.c,{children:[Object(P.jsx)(we.a,{exact:!0,path:"/directs",children:Object(P.jsx)(ua,{})}),Object(P.jsx)(we.a,{exact:!0,path:"/login",children:Object(P.jsx)(fe,{})}),Object(P.jsx)(we.a,{exact:!0,path:"/posts/:postId",children:Object(P.jsx)("div",{className:Yc,children:Object(P.jsx)(mc,{})})}),Object(P.jsx)(we.a,{path:"/:userNameParam",children:Object(P.jsx)(Pc,{})}),Object(P.jsx)(we.a,{exact:!0,path:"/",children:Object(P.jsx)(Jc,{})})]})})]})]})})},ha=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,219)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};u.a.render(Object(P.jsx)(d.a.StrictMode,{children:Object(P.jsx)(ge.a,{children:Object(P.jsx)(ma,{})})}),document.getElementById("root")),ha()}},[[175,1,2]]]);
//# sourceMappingURL=main.7c30edc7.chunk.js.map