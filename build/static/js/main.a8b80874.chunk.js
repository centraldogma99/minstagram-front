(this["webpackJsonpminstagram-front"]=this["webpackJsonpminstagram-front"]||[]).push([[0],{146:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){},177:function(e,t,n){},182:function(e,t,n){"use strict";n.r(t);var a,c,s,r,i,o,j,l,b,d,u,O,m,h,f,x,p,g,v,w,C,k,y,N,S,A,E,_,F,L,M,T,z,P,I,R,U,D,H,G,q=n(1),B=n.n(q),V=n(52),W=n.n(V),K=(n(146),n(10)),Y=n.n(K),J=n(20),Q=n(5),Z=(n(148),n(12)),X=n(14),$=n(3),ee=(n(149),n(8)),te=n.n(ee),ne=Object(q.createContext)({isAuthenticated:!1,setIsAuthenticated:function(){},checkCookie:function(){return!1},user:{_id:"",name:"",avatar:"",email:""},setUser:function(){}}),ae=n(224),ce=n(4),se=n(15),re=se.a.input(a||(a=Object($.a)(["\n  font-size: 1em;\n  padding-left: 0.4em;\n  padding-right: 0.4em;\n  border-radius: 3px;\n  height: 2.5em;\n"]))),ie=se.a.textarea(c||(c=Object($.a)(["\n  margin: 0;\n  padding: 7px;\n  border: 0;\n  font-family: inherit;\n"]))),oe=se.a.button(s||(s=Object($.a)(["\n  text-align: center;\n  font-size: 1em;\n  border: none;\n  background-color: dodgerblue;\n  border-radius: 4px;\n  color: white;\n  font-weight: 580;\n"]))),je=n(0),le="http://www.dogmadevs.com:9000",be=Object(se.a)(re)(r||(r=Object($.a)(["\n  width: 20em;\n  margin-bottom: 1em;\n  border: ",";\n"])),(function(e){return e.wrong?"2px solid red":"0.5px solid gainsboro"})),de=Object(se.a)(oe)(i||(i=Object($.a)(["\n  margin-top: 0.5em;\n  width: 20.6em;\n  height: 2.2em;\n  margin-bottom: 2em;\n"]))),ue=Object(ce.a)(o||(o=Object($.a)(["\n  color: dodgerblue;\n  font-weight: 700;\n"]))),Oe=Object(ce.a)(j||(j=Object($.a)(["\n  margin-top: 1.4em;\n"]))),me=function(){var e=Object(q.useState)({email:"",password:"",name:""}),t=Object(Q.a)(e,2),n=t[0],a=t[1],c=Object(q.useState)(!1),s=Object(Q.a)(c,2),r=s[0],i=s[1],o=Object(q.useState)(""),j=Object(Q.a)(o,2),b=j[0],d=j[1],u=Object(q.useContext)(ne),O=u.setIsAuthenticated,m=u.setUser,h=u.checkCookie,f=Object(q.useState)({email:!1,name:!1,password:!1}),x=Object(Q.a)(f,2),p=x[0],g=x[1];Object(q.useLayoutEffect)((function(){var e=localStorage.getItem("user");e&&h()&&m(JSON.parse(e))}),[]);var v=function(e){var t,n=e.email,a=e.name,c=e.password;return n.includes("@")&&n.includes(".")?!function(e){return!e.match(/[^A-Za-z._0-9]/g)}(a)?(t="\uacc4\uc815 \uc774\ub984\uc740 \uc18c/\ub300\ubb38\uc790, \uc22b\uc790, \uc810(.), \ubc11\uc904(_)\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4.",g(Object(X.a)(Object(X.a)({},p),{},{name:!0}))):c.length<8&&(t="\ube44\ubc00\ubc88\ud638\ub294 8\uc790 \uc774\uc0c1\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4.",g(Object(X.a)(Object(X.a)({},p),{},{password:!0}))):(t="\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc774\uba54\uc77c \uc785\ub2c8\ub2e4.",g(Object(X.a)(Object(X.a)({},p),{},{email:!0}))),t?{isValid:!1,msg:t}:{isValid:!0,msg:"validate successful"}},w=function(e){return function(t){d(""),g(Object(X.a)(Object(X.a)({},p),{},Object(Z.a)({},e,!1))),a(Object(X.a)(Object(X.a)({},n),{},Object(Z.a)({},e,t.target.value)))}},C=function(){var e=Object(J.a)(Y.a.mark((function e(t){var c,s,o,j,l;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),g({email:!1,name:!1,password:!1}),r){e.next=18;break}return e.next=5,te.a.post(le+"/users/login",{email:n.email,password:n.password},{withCredentials:!0}).catch((function(e){return e.response}));case 5:if(200!==(null===(c=e.sent)||void 0===c?void 0:c.status)){e.next=13;break}return localStorage.setItem("user",JSON.stringify(c.data)),O(!0),m(c.data),e.abrupt("return");case 13:s="",404===c.status?(s="\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \uacc4\uc815\uc785\ub2c8\ub2e4.",g(Object(X.a)(Object(X.a)({},p),{},{email:!0}))):400===c.status?s="\uc798\ubabb\ub41c \uc694\uccad\uc785\ub2c8\ub2e4.":401===c.status&&(s="\uc798\ubabb\ub41c \ube44\ubc00\ubc88\ud638\uc785\ub2c8\ub2e4.",g(Object(X.a)(Object(X.a)({},p),{},{password:!0}))),d("\ub85c\uadf8\uc778 \uc2e4\ud328 : "+s);case 16:e.next=29;break;case 18:if(!(o=v(n)).isValid){e.next=26;break}return e.next=22,te.a.post(le+"/users/register",n).catch((function(e){return console.log(e),e.response}));case 22:200===(null===(j=e.sent)||void 0===j?void 0:j.status)?(d(""),i(!1)):(400===j.status?l="\uc798\ubabb\ub41c \uc694\uccad\uc785\ub2c8\ub2e4.":409===j.status&&(l="\uc774\ubbf8 \ub4f1\ub85d\ub41c \uacc4\uc815 \ub610\ub294 \uc774\ub984\uc785\ub2c8\ub2e4.",g(Object(X.a)(Object(X.a)({},p),{},{email:!0,name:!0}))),d("\uac00\uc785 \uc2e4\ud328 : "+l)),e.next=28;break;case 26:return d(o.msg),e.abrupt("return");case 28:a(Object(X.a)(Object(X.a)({},n),{},{password:"",name:""}));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(je.jsxs)("div",{id:"login",children:[Object(je.jsx)("p",{id:"loginTitle",children:"Minstagram"}),Object(je.jsxs)("form",{id:"loginForm",onSubmit:C,children:[Object(je.jsx)(be,{type:"text",value:n.email,onChange:w("email"),placeholder:"\uc774\uba54\uc77c",wrong:p.email}),Object(je.jsx)("br",{}),r&&Object(je.jsxs)("span",{children:[Object(je.jsx)(be,{type:"text",value:n.name,onChange:w("name"),placeholder:"\uacc4\uc815 \uc774\ub984",wrong:p.name}),Object(je.jsx)("br",{})]}),Object(je.jsx)(be,{type:"password",value:n.password,onChange:w("password"),placeholder:"\ube44\ubc00\ubc88\ud638",wrong:p.password}),Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:Object(ce.a)(l||(l=Object($.a)(["font-weight: bold; color: red;"]))),children:b}),Object(je.jsx)(de,{children:r?"\uac00\uc785":"\ub85c\uadf8\uc778"}),!r&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(ae.a,{}),Object(je.jsxs)("div",{className:Oe,children:["\uacc4\uc815\uc774 \uc5c6\uc73c\uc2e0\uac00\uc694?",Object(je.jsx)("a",{onClick:function(){i(!0),g({email:!1,name:!1,password:!1})},className:ue,children:"\uac00\uc785\ud558\uae30"})]})]})]})]})},he=n(16),fe=n(58),xe=n(25),pe=function(e){var t=Object(ce.a)(b||(b=Object($.a)(["\n    display: flex;\n    align-items: center;\n    ","\n  "])),e.style),n=Object(ce.a)(d||(d=Object($.a)(["\n    width: 2.5em;\n    height: 2.5em;\n    object-fit: cover;\n    border-radius: 50%;\n    border: 1px solid gray;\n    ","\n  "])),e.imageStyle),a=Object(ce.a)(u||(u=Object($.a)(["\n    margin-left: ",";\n    font-size: 15px;\n    font-weight: 550;\n    ","\n  "])),e.avatarHide?void 0:"0.7em",e.nameStyle),c=e.user,s=e.onClick;return c?Object(je.jsx)(xe.b,{to:"/".concat(c.name),children:Object(je.jsxs)("span",{className:t,onClick:s,children:[!e.avatarHide&&(c.avatar.length>0?Object(je.jsx)("img",{src:"http://www.dogmadevs.com:9000/images/"+c.avatar,className:n}):Object(je.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOIAAADfCAMAAADcKv+WAAAAMFBMVEWhtunL1vLM1/KftOm1xe3M1vKit+m/ze+kuOrH0/Gqveuyw+3D0PC6ye6uwOyftOY8UPyPAAADcklEQVR4nO3c3XKrIBSGYRGN4l/v/2632k6mSdPAslmB5X6fo0wPWr5ZCEKgVQUAAAAAAAAAAAAAAAAAAAAAAAAAkPO+6odhWYbhsn48H18t8+RcvXOhG/uTpfTDvKZr3dWacxqr86T0w7RW7t76oyZ3y17E992DgJ8p3XKGQvrF/RJwD9nlbt/f+flJwC1j6HM38Y989zzh1lkH053VT7GEW0jLGeM1/DTkbuhhvklL2IZL7qYeNaQl3MZVq101MeCWcTSZMTZd3Mrd2kN6ScJ6NlhGWRFda3DEuYgSuroxV8bUCeMq5G6xmJ/aeKybMpqb/3thQoMDziLsp66djEUUjqc7Y2Nq0hLjlrWH0QdxEesld6OFDkQcc7dZ5iJOaG7y788f8UgVjXXU/+BZ9EH6dmNuRE3dmPoe0diGqnih4ewt/JO3pq5FtPaOKh9Src0ZBx5Ga49iJV5N2eunaxmFRTQ2K26EY6q9rZuNrIj2+ulaxjG9jG2wmFC08re24r9KXlGpzokfH3q/u/KJE4fuhKEaMfFxrHVHU92ISTOHekLdiAl1rCfd/VP1iJGTRds+v3IDtDvqyl+ezB2105/y9SM+KWTdzpc3TPlviLhqwo+Tfm1dd5bPFN3z1dJtZ22/9qy2j6E526HbNeXQdPu5YhemeelPeXa68l+x/DnjAXjuPfNiTu94u8mMiCegv5j65B97x5/WjrhfdlvGsfnFuCyD9suOYkTvh7ELddz2yqp4Q0wr4vrS3bn65rLbk5X/fg9ObeGhEtH3888FYiymM7R8XAO28q/Bt5STlYtws7CA30MGA5WM7bhFQ87Fn9mUH0a5D1n2TTjfh78mdGUfbPBL2iQRzVjs1VTJd6aRjFPuLI8dOTD1a8Yir/u9roZ7xgLrmPp1aXrG4sYc8Zm3aMbirm3Kz59GM5Z1TuXA8dOEjCWdinvtUHONWNTjqBDQFdVVj1yQSlPM7Ci6NSxRzIU/lbHmK2MhZVQrYjFl1HsSN0WUUXh8WKaMw8Yvfjm9i1jC3Kg42OwZS3jF0QxYRk99+RLjLmL+Bccr1/qP5Y8ov/otU8CxcfldTGHE7NcaD1waFkbMvquqPNqUMN6oTvx7xOyTv3rE/P9eRGVL47s6+12j0QVtuSMCAAAAAAAAAAAAAAAAAAAAAAAAAACpf/P2JHtXd325AAAAAElFTkSuQmCC",className:n})),!e.nameHide&&Object(je.jsx)("span",{className:a,children:c.name})]})}):Object(je.jsx)("span",{children:"hmm, something gone wrong."})},ge=n(22),ve=n(218),we=n(215),Ce=se.a.div(O||(O=Object($.a)(["\n  font-weight: bold;\n  height: 2.5em;\n  position: relative;\n"]))),ke=se.a.div(m||(m=Object($.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),ye=se.a.div(h||(h=Object($.a)(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 100%;\n  transform: translate(-2.6em, -50%);\n"]))),Ne=se.a.a(f||(f=Object($.a)(["\n  position: absolute;\n  font-size: 0.9em;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  color: ",";\n  pointer-events: ",";\n"])),(function(e){return e.inactive?"lightblue":"dodgerblue"}),(function(e){return e.inactive?"none":void 0})),Se=function(e){var t,n=Object(ce.a)(x||(x=Object($.a)(["\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: ",";\n    height: ",";\n    background-color: white;\n    box-shadow: 24;\n    padding: 0;\n    border-radius: 0.4em;\n    outline: none;\n    max-height: 75%;\n  "])),null!==(t=e.width)&&void 0!==t?t:"28em",e.height),a=Object(ce.a)(p||(p=Object($.a)(["\n    height: ",";\n  "])),e.title?"calc(100% - 2.5em)":"100%");return Object(je.jsx)(je.Fragment,{children:Object(je.jsx)(ve.a,{open:e.open,onClose:e.onClose,children:Object(je.jsxs)(we.a,{className:n,children:[e.title&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsxs)(Ce,{children:[Object(je.jsx)(ke,{children:e.title}),Object(je.jsx)(ye,{children:e.next&&Object(je.jsx)(Ne,{onClick:e.nextInactive?void 0:e.next.onClick,inactive:e.nextInactive,children:e.next.text})})]}),Object(je.jsx)(ae.a,{})]}),Object(je.jsx)("div",{className:a,children:e.children})]})})})},Ae=n(225),Ee=se.a.input(g||(g=Object($.a)(["\n  display: none;\n"]))),_e=se.a.div(v||(v=Object($.a)(["\n  position: relative;\n  height: 100%;\n"]))),Fe=se.a.div(w||(w=Object($.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n"]))),Le=Object(ce.a)(C||(C=Object($.a)(["\n  font-size: 1.2em;\n  margin-bottom: 1em;\n  font-weight: 100;\n"]))),Me=Object(ce.a)(k||(k=Object($.a)(["\n  height: 100%;\n"]))),Te=Object(ce.a)(y||(y=Object($.a)(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n"]))),ze=function(e){var t=Object(q.useState)(null),n=Object(Q.a)(t,2),a=n[0],c=n[1],s=Object(q.useContext)(ne),r=s.user,i=s.setUser,o=s.setIsAuthenticated,j=Object(q.useState)(!1),l=Object(Q.a)(j,2),b=l[0],d=l[1];return Object(je.jsxs)(Se,{open:e.open,onClose:function(){c(null),d(!1),e.onClose()},title:b?"\ud504\ub85c\ud544\uc774 \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4":"\ud504\ub85c\ud544 \ubcc0\uacbd\ud558\uae30",next:a&&!b?{text:"\ubcc0\uacbd\ud558\uae30",onClick:function(){var e=new FormData;null!==a&&e.append("profile-picture",a[0]),te.a.post("".concat("http://www.dogmadevs.com:9000","/users/changeProfile"),e,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){i(Object(X.a)(Object(X.a)({},r),{},{avatar:e.data.avatar})),d(!0)})).catch((function(){o(!1)}))}}:void 0,width:"40em",height:"40em",children:[!b&&Object(je.jsxs)(_e,{children:[!a&&Object(je.jsxs)(Fe,{children:[Object(je.jsx)("p",{className:Le,children:"\uc5c5\ub85c\ub4dc\ud560 \uc0ac\uc9c4\uc744 \uc120\ud0dd\ud558\uc138\uc694."}),Object(je.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(je.jsx)(Ee,{accept:"image/*",id:"contained-button-file",type:"file",onChange:function(e){return c(e.target.files)}}),Object(je.jsx)(Ae.a,{variant:"contained",component:"span",children:"\ucef4\ud4e8\ud130\uc5d0\uc11c \uc120\ud0dd"})]})]}),a&&a.length>0&&Object(je.jsx)("div",{className:Me,children:Object(je.jsx)("img",{src:URL.createObjectURL(a[0]),className:Te})})]}),b&&Object(je.jsx)(_e,{children:Object(je.jsx)(_e,{children:Object(je.jsxs)(Fe,{children:[Object(je.jsx)("img",{src:"https://www.instagram.com/static/images/creation/30fpsCheckLoopsOnce.gif/10a8cbeb94ba.gif"}),Object(je.jsx)("p",{className:Le,children:"\ud504\ub85c\ud544\uc774 \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4."})]})})})]})},Pe=n.p+"static/media/before.d628f34a.svg",Ie=n.p+"static/media/next.ef7d1ff9.svg",Re="http://www.dogmadevs.com:9000",Ue=Object(ce.a)(N||(N=Object($.a)(["\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 1.6em;\n  height: 1.6em;\n  opacity: 0.5;\n  cursor: pointer;\n"]))),De=Object(ce.a)(S||(S=Object($.a)(["\n  ","\n  left: 93%;\n"])),Ue),He=Object(ce.a)(A||(A=Object($.a)(["\n  ","\n  right: 93%;\n"])),Ue),Ge=function(e){var t=Object(q.useState)(),n=Object(Q.a)(t,2),a=n[0],c=n[1],s=Object(ce.a)(E||(E=Object($.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    object-fit: cover;\n    position: relative;\n    height: ",";\n    ","\n  "])),(null===a||void 0===a?void 0:a.height)&&(null===a||void 0===a?void 0:a.height)>0&&e.sizeCalc?(null===a||void 0===a?void 0:a.height)+"px":"100%",e.containerStyle),r=Object(ce.a)(_||(_=Object($.a)(["\n    /* display: block;\n    max-height: 100%;\n    max-width: 100%; */\n    ","\n  "])),e.style),i=Object(q.useState)(0),o=Object(Q.a)(i,2),j=o[0],l=o[1],b=Object(q.useRef)();Object(q.useEffect)((function(){e.isURL||e.pictures.forEach((function(e){(new Image).src="".concat(Re,"/images/").concat(e)}))}),[]);return Object(je.jsxs)("div",{className:s,children:[j-1>=0&&Object(je.jsx)("img",{src:Pe,onClick:function(){j-1>=0&&l(j-1)},className:He}),Object(je.jsx)("img",{className:r,src:e.isURL?e.pictures[j]:"".concat(Re,"/images/").concat(e.pictures[j]),ref:b,onLoad:function(){a||0!==j||c({height:b.current.offsetHeight,width:b.current.offsetWidth})}}),j+1<=e.pictures.length-1&&Object(je.jsx)("img",{src:Ie,onClick:function(){j+1<=e.pictures.length-1&&l(j+1)},className:De})]})},qe=Object(ce.a)(F||(F=Object($.a)(["\n  position: relative;\n  height: 2.5em;\n  font-size: 0.85em;\n"]))),Be=Object(ce.a)(L||(L=Object($.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),Ve=Object(ce.a)(M||(M=Object($.a)(["\n  color: red;\n  font-weight: bold;\n"]))),We=function(e){var t=Object(ce.a)(T||(T=Object($.a)(["\n    ","\n    ","\n    ","\n  "])),Be,e.style,e.isRedBold?Ve:void 0);return Object(je.jsx)("div",{onClick:e.onClick,className:qe,children:Object(je.jsx)("span",{className:t,children:e.children})})},Ke=function(e){te.a.delete("".concat("http://www.dogmadevs.com:9000","/posts/").concat(e),{withCredentials:!0})},Ye=Object(q.createContext)({deletePost:function(e){},editPost:function(e,t){}}),Je=Object(q.createContext)({post:{},setOpen:function(){}}),Qe=se.a.div(z||(z=Object($.a)(["\n  height: 7em;\n  position: relative;\n"]))),Ze=se.a.span(P||(P=Object($.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-weight: bold;\n"]))),Xe=function(e){var t=e.open,n=e.onClose,a=e.title,c=e.message;return Object(je.jsxs)(Se,{open:t,onClose:n,title:a,width:e.width,children:[c&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Qe,{children:Object(je.jsx)(Ze,{children:c})}),Object(je.jsx)(ae.a,{})]}),Object(je.jsx)("div",{className:"minstagram-modal-buttons",children:e.children})]})},$e=Object(q.createContext)({setToastOpen:function(e){},toastMessage:"",setToastMessage:function(e){}}),et={fontWeight:"bold",color:"red"},tt=function(e){var t=Object(q.useContext)(Je).post,n=Object(q.useContext)(Ye).deletePost,a=Object(q.useContext)($e),c=a.setToastMessage,s=a.setToastOpen,r=e.isComment?"\ub313\uae00":"\uac8c\uc2dc\ubb3c";return Object(je.jsxs)(Xe,{open:e.open,onClose:function(){e.onClose()},message:"".concat(r,"\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc5b4\uc694?"),width:"24em",children:[Object(je.jsx)(We,{onClick:function(){var a;e.isComment?(a=e.commentIndex,te.a.delete("".concat("http://www.dogmadevs.com:9000","/posts/").concat(t._id,"/comment/").concat(a),{withCredentials:!0})):(Ke(t._id),void 0!=t.order&&n(t.order)),e.onClose(),c("".concat(r,"\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")),s(!0)},style:et,children:"\uc0ad\uc81c"}),Object(je.jsx)(ae.a,{}),Object(je.jsx)(We,{onClick:function(){e.onClose()},children:"\ucde8\uc18c"})]})},nt=function(e){var t=Object(q.useState)(e.open),n=Object(Q.a)(t,2),a=n[0],c=n[1],s=Object(q.useState)(!1),r=Object(Q.a)(s,2),i=r[0],o=r[1];Object(q.useEffect)((function(){c(e.open)}),[e.open]);return Object(je.jsxs)(Xe,{open:a,onClose:function(){c(!1),e.onClose()},width:e.width,children:[e.isAuthor&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(tt,{open:i,onClose:function(){o(!1),c(!1),e.onClose()},isComment:!0,commentIndex:e.index}),Object(je.jsx)(We,{onClick:function(){o(!0)},isRedBold:!0,children:"\uc0ad\uc81c"}),Object(je.jsx)(ae.a,{})]}),Object(je.jsx)(We,{children:"\uc544\ubb34\ud55c\ud14c\ub098 \ub728\ub294 \ud56d\ubaa9"}),Object(je.jsx)(ae.a,{}),Object(je.jsx)(We,{isRedBold:!0,children:"\uae30\ub2a5\uc740 \uc5c6\uc9c0\ub9cc \uac15\uc870"})]})},at=n.p+"static/media/option.bfbd5cca.svg",ct=n(50),st=n.n(ct),rt=(n(117),n(85)),it=n.n(rt);st.a.extend(it.a),st.a.locale("ko");var ot,jt,lt,bt,dt,ut,Ot,mt,ht,ft,xt,pt,gt,vt,wt,Ct,kt,yt,Nt,St,At,Et,_t,Ft,Lt,Mt,Tt,zt,Pt,It,Rt,Ut,Dt,Ht,Gt,qt,Bt,Vt,Wt=Object(ce.a)(I||(I=Object($.a)(["\n  font-size: 0.8em;\n  margin-top: 0.8em;\n  margin-bottom: 1em;\n"]))),Kt=function(e){var t=e.comment,n=e.index,a=e.style,c=Object(q.useState)(!1),s=Object(Q.a)(c,2),r=s[0],i=s[1],o=Object(q.useContext)(ne).user,j=Object(ce.a)(R||(R=Object($.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    margin-bottom: 0.2em;\n  "]))),l=Object(ce.a)(U||(U=Object($.a)(["\n    ","\n  "])),a),b=Object(ce.a)(D||(D=Object($.a)(["\n    display: inline;\n    font-weight: bold;\n    margin-right: 1em;\n    ","\n  "])),a);return Object(je.jsxs)("div",{className:j,children:[Object(je.jsx)(nt,{open:r,onClose:function(){return i(!1)},index:t._id,width:"18em",isAuthor:t.author._id===o._id}),Object(je.jsxs)("div",{className:Object(ce.a)(H||(H=Object($.a)(["display: flex; flex-direction: row; justify-content: space-between;"]))),children:[Object(je.jsxs)("div",{children:[Object(je.jsx)(xe.b,{to:"/".concat(t.author.name),children:Object(je.jsx)("span",{className:b,children:t.author.name})}),Object(je.jsx)("span",{className:l,children:t.content})]}),Object(je.jsx)("img",{src:at,className:Object(ce.a)(G||(G=Object($.a)(["width: 1em; height: 1em; cursor: pointer; padding-left: 0.3em;"]))),onClick:function(){i(!0)}})]}),e.timestamp&&Object(je.jsx)("div",{className:Wt,children:st()(new Date(t.timestamp)).fromNow()})]},n)},Yt=Object(ce.a)(ot||(ot=Object($.a)(["\n  font-size: 0.9em;\n  margin-top: 0.6em;\n  color: darkgray;\n"]))),Jt=function(e){var t=e.comments,n=Object(q.useState)(e.isExpanded),a=Object(Q.a)(n,2),c=a[0],s=a[1],r=Object(q.useContext)(Je).setOpen,i=Object(ce.a)(jt||(jt=Object($.a)(["\n    text-align: left;\n    overflow-y: scroll;\n    margin-bottom: 0.5em;\n    ","\n  "])),e.containerStyle),o=function(t,n){return Object(je.jsx)(Kt,{comment:t,index:n,style:e.style,timestamp:e.timestamp},n)};Object(q.useEffect)((function(){s(e.isExpanded)}),[e.isExpanded]);return Object(je.jsxs)("div",{className:i,children:[!c&&t.length>0&&t.slice(t.length-2,t.length).map(o),c&&t.length>0&&t.map(o),!c&&t.length>2&&Object(je.jsx)("div",{className:Yt,children:Object(je.jsxs)("a",{onClick:function(){r(!0)},children:["\ub313\uae00 ",t.length,"\uac1c \ubaa8\ub450 \ubcf4\uae30"]})})]})},Qt=function(e){var t=e.children.props.value,n=e.textMaxLength,a=se.a.div(lt||(lt=Object($.a)(["\n    position: absolute;\n    font-size: 0.8em;\n    color: ",";\n    top: 105%;\n    left: 94%;\n    transform: translate(-90%, -90%);\n    ","\n  "])),t.length<=n?"gray":"red",e.textLengthStyle),c=Object(ce.a)(bt||(bt=Object($.a)(["\n    width: 100%;\n    height: 12em;\n    position: relative;\n    ","\n  "])),e.style);return Object(q.useEffect)((function(){t.length>n&&e.setText(t.slice(0,n))}),[t]),Object(je.jsxs)("div",{className:c,children:[e.children,Object(je.jsx)(a,{children:"".concat(t.length,"/").concat(n)})]})},Zt="http://www.dogmadevs.com:9000",Xt=se.a.input(dt||(dt=Object($.a)(["\n  display: none;\n"]))),$t=se.a.div(ut||(ut=Object($.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n"]))),en=Object(ce.a)(Ot||(Ot=Object($.a)(["\n  font-size: 1.2em;\n  margin-bottom: 1em;\n  font-weight: 100;\n"]))),tn=Object(ce.a)(mt||(mt=Object($.a)(["\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n"]))),nn=Object(ce.a)(ht||(ht=Object($.a)(["\n  width: 35%;\n  border-left: 1px solid gainsboro;\n"]))),an=Object(ce.a)(ft||(ft=Object($.a)(["\n  margin: 0;\n  padding: 0.9em;\n  border: 0;\n  outline: none;\n  resize: none;\n  font-family: inherit;\n  width: 92%;\n  height: 100%;\n"]))),cn=Object(ce.a)(xt||(xt=Object($.a)(["\n  font-weight: bold;\n  margin-top: 1.2em;\n  padding: 0.5em;\n  font-size: 0.8em;\n  color: red;\n"]))),sn=function(e){var t=e.originalPost,n=Object(q.useState)(t?t.pictures:null),a=Object(Q.a)(n,2),c=a[0],s=a[1],r=Object(q.useState)(t?t.text:""),i=Object(Q.a)(r,2),o=i[0],j=i[1],l=Object(q.useContext)(ne).user,b=Object(q.useState)(!1),d=Object(Q.a)(b,2),u=d[0],O=d[1],m=Object(q.useState)(!1),h=Object(Q.a)(m,2),f=h[0],x=h[1],p=Object(q.useState)(""),g=Object(Q.a)(p,2),v=g[0],w=g[1],C=Object(q.useContext)(Ye).editPost,k=Object(q.useContext)(Je).post,y=Object(ce.a)(pt||(pt=Object($.a)(["\n    /* position: relative; */\n    height: ",";\n  "])),!c||f?"25em":"100%");Object(q.useEffect)((function(){v.length>0&&o.length>0&&w("")}),[o]);var N=function(){var e=Object(J.a)(Y.a.mark((function e(){var n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=8;break}if(n=new FormData,null!==c)for(a=0;a<c.length;a++)n.append("pictures",c[a]);return n.append("text",o),e.next=6,te.a.post("".concat(Zt,"/posts/new"),n,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}});case 6:e.next=11;break;case 8:return e.next=10,te.a.post("".concat(Zt,"/posts/").concat(t._id,"/edit"),{text:o},{withCredentials:!0});case 10:void 0!=k.order&&C(k.order,o);case 11:O(!1),x(!0);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(je.jsxs)(Se,{open:e.open,onClose:function(){j(""),s(null),O(!1),x(!1),e.onClose()},title:f?t?"\uac8c\uc2dc\ubb3c\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4":"\uac8c\uc2dc\ubb3c\uc774 \uacf5\uc720\ub418\uc5c8\uc2b5\ub2c8\ub2e4":t?"\uac8c\uc2dc\ubb3c \uc218\uc815\ud558\uae30":"\uc0c8 \uac8c\uc2dc\ubb3c \ub9cc\ub4e4\uae30",width:c&&!f?"75%":"40em",height:c&&!f?"80%":"40em",next:c&&!f?{text:t?"\uc218\uc815\ud558\uae30":"\uacf5\uc720\ud558\uae30",onClick:function(){o?(O(!0),N()):w("! \ubb38\uad6c\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694.")}}:void 0,children:[!f&&u&&Object(je.jsx)("div",{className:y,children:Object(je.jsx)($t,{children:Object(je.jsx)("p",{className:en,children:"\uc5c5\ub85c\ub4dc \uc911..."})})}),!f&&!u&&Object(je.jsxs)("div",{className:y,children:[!c&&Object(je.jsxs)($t,{children:[Object(je.jsx)("p",{className:en,children:"\uc5c5\ub85c\ub4dc\ud560 \uc0ac\uc9c4\uc744 \uc120\ud0dd\ud558\uc138\uc694."}),Object(je.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(je.jsx)(Xt,{accept:"image/*",id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){return s(e.target.files)}}),Object(je.jsx)(Ae.a,{variant:"contained",component:"span",children:"\ucef4\ud4e8\ud130\uc5d0\uc11c \uc120\ud0dd"})]})]}),c&&c.length>0&&Object(je.jsxs)("div",{className:tn,children:[Object(je.jsx)(Ge,{pictures:t?t.pictures:Array.from(c).map((function(e){return URL.createObjectURL(e)})),isURL:!t,containerStyle:Object(ce.a)(gt||(gt=Object($.a)(["width: 65%;"]))),style:Object(ce.a)(vt||(vt=Object($.a)(["max-width: 100%; max-height: 100%;"])))}),Object(je.jsxs)("div",{className:nn,children:[Object(je.jsx)("div",{style:{margin:"0.5em"},children:Object(je.jsx)(pe,{user:l})}),Object(je.jsx)(Qt,{style:Object(ce.a)(wt||(wt=Object($.a)(["\n                    height: 19em;\n                    font-size: 0.8em;\n                  "]))),textMaxLength:500,setText:j,children:Object(je.jsx)("textarea",{className:an,placeholder:"\ubb38\uad6c \uc785\ub825...",value:o,onChange:function(e){return j(e.target.value)}})}),v&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(ae.a,{}),Object(je.jsx)("div",{className:cn,children:v})]})]})]})]}),f&&!u&&Object(je.jsx)("div",{className:y,children:Object(je.jsxs)($t,{children:[Object(je.jsx)("img",{src:"https://www.instagram.com/static/images/creation/30fpsCheckLoopsOnce.gif/10a8cbeb94ba.gif"}),Object(je.jsx)("p",{className:en,children:"\uac8c\uc2dc\ubb3c\uc774 \uacf5\uc720\ub418\uc5c8\uc2b5\ub2c8\ub2e4."})]})})]})},rn={fontWeight:"bold",color:"red"},on=function(e){var t=B.a.useState(!1),n=Object(Q.a)(t,2),a=n[0],c=n[1],s=Object(q.useState)(!1),r=Object(Q.a)(s,2),i=r[0],o=r[1],j=Object(q.useContext)(Je).post;return Object(je.jsxs)(Xe,{open:e.open,onClose:e.onClose,width:e.width,children:[Object(je.jsx)(tt,{open:a,onClose:function(){c(!1),e.onClose()}}),Object(je.jsx)(sn,{open:i,onClose:function(){o(!1),e.onClose()},originalPost:j}),e.isAuthor&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(We,{onClick:function(){return o(!0)},children:"\uc218\uc815"}),Object(je.jsx)(ae.a,{}),Object(je.jsx)(We,{onClick:function(){return c(!0)},style:rn,children:"\uc0ad\uc81c"}),Object(je.jsx)(ae.a,{})]}),Object(je.jsx)(xe.b,{to:"/posts/".concat(j._id),onClick:e.onClose,children:Object(je.jsx)(We,{children:"\uac8c\uc2dc\ubb3c\ub85c \uc774\ub3d9"})})]})},jn=function(e){return te.a.get("".concat("http://www.dogmadevs.com:9000","/posts/").concat(e))},ln=Object(ce.a)(Ct||(Ct=Object($.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 2em;\n  padding: 0.3em;\n  /* padding: 0.5em; */\n"]))),bn=Object(ce.a)(kt||(kt=Object($.a)(["\n  margin-left: 0.4em;\n  width: 90%;\n  outline: none;\n  border: none;\n"]))),dn=Object(ce.a)(yt||(yt=Object($.a)(["\n  width: 2em;\n  margin-right: 0.4em;\n  color: dodgerblue;\n  font-weight: bold;\n  cursor: pointer;\n"]))),un=function(e){var t=Object(q.useState)(""),n=Object(Q.a)(t,2),a=n[0],c=n[1];return Object(je.jsxs)("div",{className:ln,children:[Object(je.jsx)("input",{type:"text",onChange:function(e){c(e.target.value)},value:a,className:bn,placeholder:"\ub313\uae00 \ub2ec\uae30..."}),Object(je.jsx)("a",{onClick:function(){e.onSubmit(a),c("")},className:dn,children:"\uac8c\uc2dc"})]})},On=Object(ce.a)(Nt||(Nt=Object($.a)(["\n  padding-top: 4em;\n"]))),mn=function(){return Object(je.jsxs)("div",{className:On,children:[Object(je.jsx)("h2",{children:"\uc8c4\uc1a1\ud569\ub2c8\ub2e4. \ud398\uc774\uc9c0\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."}),Object(je.jsx)("h3",{children:"\ud074\ub9ad\ud558\uc2e0 \ub9c1\ud06c\uac00 \uc798\ubabb\ub418\uc5c8\uac70\ub098 \ud398\uc774\uc9c0\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}),Object(je.jsx)(xe.b,{to:"/",children:Object(je.jsx)("p",{className:Object(ce.a)(St||(St=Object($.a)(["color: dodgerblue;"]))),children:"Minstagram\uc73c\ub85c \ub3cc\uc544\uac00\uae30."})})]})};st.a.extend(it.a),st.a.locale("ko");var hn,fn,xn,pn,gn,vn,wn,Cn,kn,yn,Nn,Sn,An,En,_n,Fn,Ln,Mn,Tn,zn,Pn,In,Rn,Un,Dn,Hn,Gn,qn,Bn,Vn,Wn,Kn,Yn,Jn,Qn,Zn,Xn,$n,ea,ta,na,aa,ca,sa,ra,ia,oa,ja,la,ba,da,ua,Oa,ma,ha,fa,xa,pa,ga,va,wa,Ca=Object(ce.a)(At||(At=Object($.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-top: 0.6em;\n  padding-bottom: 0.6em;\n  padding-left: 0.7em;\n  padding-right: 0.7em;\n"]))),ka=fe.a.img(Et||(Et=Object($.a)(["\n  width: 1em;\n  height: 1em;\n  cursor: pointer;\n"]))),ya=Object(ce.a)(_t||(_t=Object($.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  /* font-size: 0.9em; */\n  padding-left: 0.9em;\n  padding-right: 0.9em;\n  padding-top: 0.2em;\n  overflow: auto;\n"]))),Na=Object(ce.a)(Ft||(Ft=Object($.a)(["\n  margin-top: 1em;\n  margin-bottom: 1.4em;\n  font-size: 0.8em;\n  text-align: left;\n"]))),Sa=Object(ce.a)(Lt||(Lt=Object($.a)(["\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n"]))),Aa=Object(ce.a)(Mt||(Mt=Object($.a)(["\n  border-right: 1px solid gainsboro;\n  flex: 2;\n  height: 100%;\n"]))),Ea=Object(ce.a)(Tt||(Tt=Object($.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  height: 100%;\n  min-width: 35%;\n  word-break: break-word;\n"]))),_a=Object(ce.a)(zt||(zt=Object($.a)(["\n  text-align: left;\n  margin-top: 0.7em;\n  margin-bottom: 0.2em;\n  font-size: 0.9em;\n"]))),Fa=Object(ce.a)(Pt||(Pt=Object($.a)(["\n  word-break: break-word;\n  text-align: left;\n  margin-top: 0.7em;\n  margin-bottom: 0.2em;\n"]))),La=Object(ce.a)(It||(It=Object($.a)(["\n  flex: 1;\n  height: 100%;\n  margin-top: 0.5em;\n"]))),Ma=Object(ce.a)(Rt||(Rt=Object($.a)(["\n  font-size: 0.9em;\n  padding-bottom: 0.2em;\n  /* margin-top: 1em; */\n"]))),Ta=Object(ce.a)(Ut||(Ut=Object($.a)(["\n  max-width: 100%;\n  max-height: 100%;\n"]))),za=function(e){var t=Object(ge.g)().postId,n=Object(q.useState)(),a=Object(Q.a)(n,2),c=a[0],s=a[1],r=B.a.useState(!1),i=Object(Q.a)(r,2),o=i[0],j=i[1],l=Object(q.useState)(!0),b=Object(Q.a)(l,2),d=b[0],u=b[1],O=Object(q.useContext)(ne).user,m=Object(q.useState)(!1),h=Object(Q.a)(m,2),f=h[0],x=h[1],p=function(){return Object(je.jsx)(on,{open:o,onClose:function(){j(!1)},isAuthor:O._id===(null===c||void 0===c?void 0:c.author._id),width:"18em"})},g=Object(ce.a)(Dt||(Dt=Object($.a)(["\n    /* width: 55%; */\n    /* max-height: 45em; */\n    max-width: 40em;\n    border: solid 0.1em gainsboro;\n    margin-bottom: 1em;\n    margin-left: auto;\n    margin-right: auto;\n    ","\n  "])),e.style),v=function(e){var t=c;te.a.post("".concat("http://www.dogmadevs.com:9000","/posts/").concat(t._id,"/comment"),{content:e,likes:[]},{withCredentials:!0}).then((function(e){s(Object(X.a)(Object(X.a)({},t),{},{comments:[].concat(Object(he.a)(t.comments),[e.data])}))})).catch((function(e){console.log(e)}))};return Object(q.useLayoutEffect)((function(){e.post?(s(e.post),u(!1)):jn(t).then((function(e){s(e.data),u(!1)})).catch((function(e){console.log(e.response.status),400===e.response.status?s(void 0):console.log(e)}))}),[]),Object(q.useLayoutEffect)((function(){e.post&&s(e.post)}),[e.post]),Object(je.jsxs)(je.Fragment,{children:[c&&Object(je.jsxs)(Je.Provider,{value:{post:Object(X.a)(Object(X.a)({},c),{},{order:e.order}),setOpen:x},children:[Object(je.jsx)(Ia,{post:c,open:f,onClose:function(){return x(!1)}}),!d&&!c.isDeleted&&!e.isModal&&Object(je.jsxs)("div",{className:g,children:[p(),Object(je.jsxs)("div",{className:Ca,children:[Object(je.jsx)(pe,{user:c.author}),Object(je.jsx)(ka,{src:at,onClick:function(){return j(!0)}})]}),Object(je.jsx)(ae.a,{}),Object(je.jsx)(Ge,{pictures:c.pictures,style:Ta,containerStyle:t?Object(ce.a)(Ht||(Ht=Object($.a)(["height: 40em;"]))):Object(ce.a)(Gt||(Gt=Object($.a)(["min-height: 20em; max-height: 40em;"]))),sizeCalc:!0}),Object(je.jsxs)("div",{className:ya,children:[Object(je.jsxs)("div",{className:Fa,children:[Object(je.jsx)("span",{className:Object(ce.a)(qt||(qt=Object($.a)(["font-weight: bold; margin-right: 1em;"]))),children:c.author.name}),c.text]}),Object(je.jsx)("div",{className:Na,children:st()(new Date(c.timestamp)).fromNow()}),Object(je.jsx)(Jt,{comments:c.comments,isExpanded:!1,style:Ma})]}),Object(je.jsx)(ae.a,{}),Object(je.jsx)(un,{onSubmit:v})]}),!d&&!c.isDeleted&&e.isModal&&Object(je.jsxs)("div",{className:Sa,children:[p(),Object(je.jsx)(Ge,{pictures:c.pictures,containerStyle:Aa,style:Object(ce.a)(Bt||(Bt=Object($.a)(["max-width: 100%; max-height: 100%;"])))}),Object(je.jsxs)("div",{className:Ea,children:[Object(je.jsxs)("div",{className:Ca,children:[Object(je.jsx)(pe,{user:c.author}),Object(je.jsx)(ka,{src:at,onClick:function(){return j(!0)}})]}),Object(je.jsx)(ae.a,{}),Object(je.jsxs)("div",{className:ya,children:[Object(je.jsxs)("div",{className:_a,children:[Object(je.jsx)("span",{className:Object(ce.a)(Vt||(Vt=Object($.a)(["font-weight: bold; margin-right: 1em;"]))),children:c.author.name}),c.text]}),Object(je.jsx)("div",{className:Na,children:st()(new Date(c.timestamp)).fromNow()}),Object(je.jsx)(Jt,{comments:c.comments,isExpanded:!0,style:Ma,containerStyle:La,timestamp:!0})]}),Object(je.jsxs)("div",{children:[Object(je.jsx)(ae.a,{}),Object(je.jsx)(un,{onSubmit:v})]})]})]})]}),!d&&!c&&Object(je.jsx)(mn,{})]})},Pa=Object(ce.a)(hn||(hn=Object($.a)(["\n  margin-bottom: 0;\n  border: none;\n"]))),Ia=function(e){return Object(je.jsx)(Se,{open:e.open,onClose:e.onClose,width:"75%",height:"80%",children:Object(je.jsx)(za,{post:e.post,style:Pa,isModal:!0})})},Ra=n(125),Ua=n.n(Ra),Da=n(86),Ha=n.n(Da),Ga="http://www.dogmadevs.com:9000",qa=Object(ce.a)(fn||(fn=Object($.a)(["\n  text-align: center;\n"]))),Ba=Object(se.a)(ie)(xn||(xn=Object($.a)(["\n  width: 95%;\n  border: 0.5px gainsboro solid;\n"]))),Va=Object(se.a)(oe)(pn||(pn=Object($.a)(["\n  width: 70%;\n  height: 2.2em;\n  margin-top: 3em;\n"]))),Wa=se.a.div(gn||(gn=Object($.a)(["\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 1.5em;\n"]))),Ka=se.a.p(vn||(vn=Object($.a)(["\n  padding-right: 2em;\n  text-align: right;\n  width: 2em;\n  font-weight: bold;\n"]))),Ya=se.a.div(wn||(wn=Object($.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n"]))),Ja=Object(se.a)(re)(Cn||(Cn=Object($.a)(["\n  width: 95%;\n  border: 0.5px gainsboro solid;\n  border-color: ",";\n  border-width: ",";\n"])),(function(e){return e.error?"red":void 0}),(function(e){return e.error?"2.2px":void 0})),Qa=function(e){var t=Object(q.useContext)(ne),n=t.user,a=t.setUser,c=Object(q.useState)(n.name),s=Object(Q.a)(c,2),r=s[0],i=s[1],o=Object(q.useState)(e.bio),j=Object(Q.a)(o,2),l=j[0],b=j[1],d=Object(q.useState)(!1),u=Object(Q.a)(d,2),O=u[0],m=u[1],h=Object(q.useState)({error:!1,reason:""}),f=Object(Q.a)(h,2),x=f[0],p=f[1],g=Object(ge.f)();Object(q.useEffect)((function(){O&&g.push("/".concat(r))}),[O]);var v=function(){var e=Object(J.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length<2)){e.next=3;break}return p({error:!0,reason:"\uc774\ub984\uc740 2\uc790 \uc774\uc0c1\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4."}),e.abrupt("return");case 3:if(!x.error){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,te.a.post("".concat(Ga,"/users/profile"),{name:r,bio:l},{withCredentials:!0});case 7:m(!0),a((function(e){return Object(X.a)(Object(X.a)({},e),{},{name:r})}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(J.a)(Y.a.mark((function e(t){var n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>20)){e.next=3;break}return p({error:!0,reason:"\uc774\ub984\uc740 20\uc790 \uc774\ub0b4\uc5ec\uc57c \ud569\ub2c8\ub2e4."}),e.abrupt("return");case 3:return e.next=5,te.a.get("".concat(Ga,"/users/namecheck"),{params:{name:t}});case 5:n=e.sent,a=n.data.result?"":"\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uc774\ub984\uc785\ub2c8\ub2e4.",p({error:!n.data.result,reason:a});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(je.jsx)(Se,{open:e.open,onClose:function(){m(!1),i(n.name),b(e.bio),e.onClose()},title:"\ud504\ub85c\ud544 \uc218\uc815\ud558\uae30",width:"40em",height:"40em",next:O?void 0:{text:"\uc218\uc815\ud558\uae30",onClick:v},nextInactive:x.error,children:Object(je.jsxs)("div",{className:qa,children:[!O&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("p",{className:Object(ce.a)(kn||(kn=Object($.a)(["font-size: 2em; font-weight: 350; margin-top: 2em; "]))),children:"\ub098\uc758 Minstagram \ud504\ub85c\ud544"}),Object(je.jsxs)("div",{className:Object(ce.a)(yn||(yn=Object($.a)(["margin-left: 5em; margin-right: 5em; margin-top: 5em;"]))),children:[Object(je.jsxs)(Wa,{children:[Object(je.jsx)(Ka,{children:"\uc774\ub984"}),Object(je.jsxs)("div",{className:Object(ce.a)(Nn||(Nn=Object($.a)(["flex: 1; display: flex; flex-direction: column; align-items: center;"]))),children:[Object(je.jsx)(Ja,{type:"text",placeholder:n.name,value:r,onChange:Ha.a.throttle((function(e){var t=e.target.value;i(t),w(t)}),600),error:x.error}),x&&Object(je.jsx)("div",{className:Object(ce.a)(Sn||(Sn=Object($.a)(["width: 100%; padding-left: 1em;"]))),children:Object(je.jsx)("p",{className:Object(ce.a)(An||(An=Object($.a)(["margin: 0; margin-top: 0.2em; font-size: 0.8em; color: red; text-align: left;"]))),children:x.reason})}),Object(je.jsx)("p",{className:Object(ce.a)(En||(En=Object($.a)(["font-size: 0.8em; color: gray;"]))),children:"\uc0ac\ub78c\ub4e4\uc774 \ud68c\uc6d0\ub2d8\uc758 \uc54c\ub824\uc9c4 \uc774\ub984\uc744 \uc0ac\uc6a9\ud558\uc5ec \ud68c\uc6d0\ub2d8\uc758 \uacc4\uc815\uc744 \ucc3e\uc744 \uc218 \uc788\ub3c4\ub85d \ub3c4\uc640\uc8fc\uc138\uc694."})]})]}),Object(je.jsxs)(Wa,{children:[Object(je.jsx)(Ka,{children:"\uc18c\uac1c"}),Object(je.jsx)(Qt,{textMaxLength:100,setText:b,style:Object(ce.a)(_n||(_n=Object($.a)(["flex: 1; height: 4em;"]))),textLengthStyle:Object(ce.a)(Fn||(Fn=Object($.a)([""]))),children:Object(je.jsx)(Ba,{value:l,onChange:function(e){return b(e.target.value)}})})]}),Object(je.jsx)(ae.a,{}),Object(je.jsx)(Va,{children:"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd\ud558\uae30"})]})]}),O&&Object(je.jsx)(je.Fragment,{children:Object(je.jsxs)(Ya,{children:[Object(je.jsx)("img",{src:"https://www.instagram.com/static/images/creation/30fpsCheckLoopsOnce.gif/10a8cbeb94ba.gif"}),Object(je.jsx)("p",{className:Object(ce.a)(Ln||(Ln=Object($.a)(["font-weight: 250; font-size: 1.5em; "]))),children:"\ud504\ub85c\ud544\uc744 \uc218\uc815\ud588\uc2b5\ub2c8\ub2e4."})]})})]})})},Za=function(e){var t=e.isFollowed,n=Object(ce.a)(Mn||(Mn=Object($.a)(["\n    width: 6em;\n    border-radius: 3px;\n    background-color: ",";\n    color: ",";\n    height: 2.3em;\n    border: ",";\n    font-weight: 700;\n    margin-right: 1em;\n    margin-left: 1em;\n    font-size: 1em;\n  "])),t?"transparent":"dodgerblue",t?"black":"white",t?"gainsboro 0.5px solid":"none");return Object(je.jsx)("button",{className:n,onClick:e.onClick,children:t?"\ud314\ub85c\uc6b0 \uc911":"\ud314\ub85c\uc6b0"})},Xa=n(87),$a=se.a.div(Tn||(Tn=Object($.a)(["\n  margin-bottom: 1em;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n"]))),ec=function(e){var t=Object(q.useState)([]),n=Object(Q.a)(t,2),a=n[0],c=n[1];return Object(q.useLayoutEffect)((function(){var t=function(){var t=Object(J.a)(Y.a.mark((function t(){var n,a,s,r,i;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],a=Object(Xa.a)(e.ids),t.prev=2,a.s();case 4:if((s=a.n()).done){t.next=12;break}return r=s.value,t.next=8,te.a.get("".concat("http://www.dogmadevs.com:9000","/users/").concat(r),{withCredentials:!0});case 8:i=t.sent,n.push(i.data);case 10:t.next=4;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),a.e(t.t0);case 17:return t.prev=17,a.f(),t.finish(17);case 20:c(n);case 21:case"end":return t.stop()}}),t,null,[[2,14,17,20]])})));return function(){return t.apply(this,arguments)}}();t()}),[e.ids]),Object(je.jsx)(Se,Object(X.a)(Object(X.a)({},e),{},{children:Object(je.jsxs)("div",{className:Object(ce.a)(zn||(zn=Object($.a)(["padding: 1em; overflow-y: scroll; max-height: 20em;"]))),children:[a.length>0&&a.map((function(t,n){return Object(je.jsx)($a,{onClick:e.onClose,children:Object(je.jsx)(pe,{user:t,imageStyle:Object(ce.a)(Pn||(Pn=Object($.a)(["width: 2em; height: 2em;"])))})},n)})),0===a.length&&Object(je.jsx)("p",{children:"\uc544\uc9c1 \uc544\ubb34\ub3c4 \uc5c6\uc5b4\uc694."})]})}))},tc=Object(ce.a)(In||(In=Object($.a)(["\n  padding-top: 4em;\n"]))),nc=function(){return Object(je.jsxs)("div",{className:tc,children:[Object(je.jsx)("h2",{children:"\ud398\uc774\uc9c0\ub97c \ub85c\ub4dc\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."}),Object(je.jsx)("h3",{children:"\uc54c \uc218 \uc5c6\ub294 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694."}),Object(je.jsx)(xe.b,{to:"/",children:Object(je.jsx)("p",{className:Object(ce.a)(Rn||(Rn=Object($.a)(["color: dodgerblue;"]))),children:"Minstagram\uc73c\ub85c \ub3cc\uc544\uac00\uae30."})})]})},ac="http://www.dogmadevs.com:9000",cc=fe.a.div(Un||(Un=Object($.a)(["\n  padding-top: 4em;\n  justify-content: center;\n  max-width: 70%;\n  margin-left: auto;\n  margin-right: auto;\n  align-items: center;\n  "]))),sc=fe.a.div(Dn||(Dn=Object($.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  /* width: 100%;\n  height: 100%; */\n  max-width: 100%;\n  margin-top: 2em;\n"]))),rc=fe.a.img(Hn||(Hn=Object($.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  /* margin: 0.3em; */\n  /* margin-left: auto;\n  margin-right: auto; */\n  object-fit: cover;\n"]))),ic=Object(ce.a)(Gn||(Gn=Object($.a)(["\n  padding-top: 3em;\n  margin-bottom: 3em;\n  display: flex;\n  flex-direction: row;\n  "]))),oc=Object(ce.a)(qn||(qn=Object($.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-left: 3em;\n  text-align: left;\n"]))),jc=Object(ce.a)(Bn||(Bn=Object($.a)(["\n  width: 24%;\n  padding-top: 25%; /* 1:1 Aspect Ratio */\n  position: relative;\n  margin: 0.5%;\n  cursor: pointer;\n"]))),lc=fe.a.div(Vn||(Vn=Object($.a)(["\n  margin-right: 3em;\n  cursor: ",";\n"])),(function(e){return e.clickable?"pointer":void 0})),bc=function(e){var t,n=Object(q.useContext)(ne).user,a=Object(q.useState)([]),c=Object(Q.a)(a,2),s=c[0],r=c[1],i=Object(ge.g)().userNameParam,o=e.userName||i,j=Object(q.useState)([]),l=Object(Q.a)(j,2),b=l[0],d=l[1],u=Object(q.useState)([]),O=Object(Q.a)(u,2),m=O[0],h=O[1],f=Object(q.useState)([]),x=Object(Q.a)(f,2),p=x[0],g=x[1],v=Object(q.useState)(),w=Object(Q.a)(v,2),C=w[0],k=w[1],y=Object(q.useState)(),N=Object(Q.a)(y,2),S=N[0],A=N[1],E=Object(q.useState)(!1),_=Object(Q.a)(E,2),F=_[0],L=_[1],M=Object(q.useState)(!1),T=Object(Q.a)(M,2),z=T[0],P=T[1],I=Object(q.useState)(!1),R=Object(Q.a)(I,2),U=R[0],D=R[1],H=Object(q.useState)(!1),G=Object(Q.a)(H,2),B=G[0],V=G[1],W=Object(q.useState)(!1),K=Object(Q.a)(W,2),Z=K[0],X=K[1],ee=Object(q.useState)(0),se=Object(Q.a)(ee,2),re=se[0],ie=se[1],oe=Object(q.useState)(!0),le=Object(Q.a)(oe,2),be=le[0],de=le[1],ue=Object(q.useState)({error:!1,reason:""}),Oe=Object(Q.a)(ue,2),me=Oe[0],fe=Oe[1];Object(q.useLayoutEffect)((function(){function e(){return(e=Object(J.a)(Y.a.mark((function e(){var t,a,c,s,i,j,l,b;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.a.get("".concat(ac,"/users/name"),{params:{name:o}});case 3:if(!((t=e.sent)instanceof Error)){e.next=6;break}throw t;case 6:return de(!1),a=t.data,k(a),e.next=11,xe(a._id);case 11:return c=e.sent,e.next=14,ve(a._id);case 14:if(s=e.sent,g(c),A(s),""==n._id){e.next=22;break}return e.next=20,te.a.get("".concat(ac,"/users/follow"),{params:{userId:n._id}}).then((function(e){return e.data}));case 20:i=e.sent,r(i);case 22:if(!a){e.next=31;break}return e.next=25,te.a.get("".concat(ac,"/users/follow"),{params:{userId:a._id}}).then((function(e){return e.data}));case 25:return j=e.sent,d(j),e.next=29,te.a.get("".concat(ac,"/users/follower"),{params:{userId:a._id}}).then((function(e){return e.data}));case 29:l=e.sent,h(l);case 31:e.next=45;break;case 33:if(e.prev=33,e.t0=e.catch(0),!te.a.isAxiosError(e.t0)){e.next=44;break}if(404!==(null===(b=e.t0.response)||void 0===b?void 0:b.status)){e.next=41;break}return fe({error:!0,reason:"404"}),e.abrupt("return");case 41:fe({error:!0,reason:""});case 42:e.next=45;break;case 44:fe({error:!0,reason:""});case 45:case"end":return e.stop()}}),e,null,[[0,33]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[e.userName,i,n]);var xe=function(){var e=Object(J.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("no id given");case 2:return e.next=4,te.a.get("".concat(ac,"/users/").concat(t,"/posts"),{withCredentials:!0});case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(J.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("no id given");case 2:return e.next=4,te.a.get("".concat(ac,"/users/").concat(t,"/profile"));case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(J.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.includes(C._id)?(te.a.post("".concat(ac,"/users/unfollow"),{followId:null===C||void 0===C?void 0:C._id},{withCredentials:!0}),r((function(e){var t=s.indexOf(C._id);return[].concat(Object(he.a)(e.slice(0,t)),Object(he.a)(e.slice(t+1)))}))):(te.a.post("".concat(ac,"/users/follow"),{followId:null===C||void 0===C?void 0:C._id},{withCredentials:!0}),r((function(e){return[].concat(Object(he.a)(e),[C._id])})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(je.jsxs)(je.Fragment,{children:[me.error&&"404"===me.reason&&Object(je.jsx)(mn,{}),me.error&&""===me.reason&&Object(je.jsx)(nc,{}),!me.error&&!be&&C&&S&&Object(je.jsxs)(cc,{children:[Object(je.jsx)(ze,{open:F,onClose:function(){return L(!1)}}),Object(je.jsx)(Ia,{open:z,onClose:function(){return P(!1)},post:p[re]}),Object(je.jsx)(Qa,{open:U,onClose:function(){return D(!1)},bio:null!==(t=null===S||void 0===S?void 0:S.bio)&&void 0!==t?t:""}),Object(je.jsx)(ec,{open:B,onClose:function(){return V(!1)},ids:b,title:"\ud314\ub85c\uc6b0",width:"23em"}),Object(je.jsx)(ec,{open:Z,onClose:function(){return X(!1)},ids:m,title:"\ud314\ub85c\uc6cc",width:"23em"}),Object(je.jsxs)("div",{className:ic,children:[Object(je.jsx)("div",{onClick:function(){return L(!0)},children:Object(je.jsx)(pe,{user:C,imageStyle:Object(ce.a)(Wn||(Wn=Object($.a)(["width: 10em; height: 10em;"]))),nameHide:!0})}),Object(je.jsxs)("div",{className:oc,children:[Object(je.jsxs)("div",{className:Object(ce.a)(Kn||(Kn=Object($.a)(["display: flex; flex-direction: row; align-items: center;"]))),children:[Object(je.jsx)(pe,{user:C,nameStyle:Object(ce.a)(Yn||(Yn=Object($.a)(["font-size: 2.5em; font-weight: 250;"]))),avatarHide:!0,style:Object(ce.a)(Jn||(Jn=Object($.a)(["margin-right: 1em;"])))}),o!=n.name&&Object(je.jsx)(Za,{isFollowed:s.includes(C._id),onClick:we}),o===n.name&&Object(je.jsx)(Ua.a,{className:Object(ce.a)(Qn||(Qn=Object($.a)(["cursor: pointer;"]))),onClick:function(){return D(!0)}})]}),Object(je.jsxs)("div",{className:Object(ce.a)(Zn||(Zn=Object($.a)(["padding-top: 1.3em; padding-bottom: 1.3em; display: flex; flex-direction: row;"]))),children:[Object(je.jsxs)(lc,{children:["\uac8c\uc2dc\ubb3c ",Object(je.jsx)("b",{children:p.length})]}),Object(je.jsxs)(lc,{clickable:!0,onClick:function(){return V(!0)},children:["\ud314\ub85c\uc6b0 ",Object(je.jsx)("b",{children:b.length})]}),Object(je.jsxs)(lc,{clickable:!0,onClick:function(){return X(!0)},children:["\ud314\ub85c\uc6cc ",Object(je.jsx)("b",{children:m.length})]})]}),Object(je.jsx)("div",{className:Object(ce.a)(Xn||(Xn=Object($.a)(["flex: 1;"]))),children:null===S||void 0===S?void 0:S.bio})]})]}),Object(je.jsx)(ae.a,{}),Object(je.jsxs)(sc,{children:[0===(null===p||void 0===p?void 0:p.length)&&Object(je.jsx)("span",{className:Object(ce.a)($n||($n=Object($.a)(["font-size: 1.3em;"]))),children:"\uc544\uc9c1 \uc544\ubb34 \uac83\ub3c4 \uc62c\ub9ac\uc9c0 \uc54a\uc558\uc5b4\uc694."}),(null===p||void 0===p?void 0:p.length)>0&&p.map((function(e,t){return Object(je.jsx)("div",{className:jc,children:Object(je.jsx)(rc,{src:ac+"/images/"+e.pictures[0],alt:"a",onClick:function(){ie(t),P(!0)}})},e._id)}))]})]})]})},dc=n.p+"static/media/newpost.ad666e89.svg",uc=(n(177),n(127)),Oc=n.n(uc),mc=n(126),hc=n.n(mc),fc=n(226),xc=se.a.div(ea||(ea=Object($.a)(["\n  margin-bottom: 1em;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n"]))),pc=Object(ce.a)(ta||(ta=Object($.a)(["\n  width: 17em;\n  height: 1.7em;\n  border-radius: 5px;\n  border: 0.5px solid gainsboro;\n  padding-left: 0.6em;\n"]))),gc=function(){var e=Object(q.useState)(""),t=Object(Q.a)(e,2),n=t[0],a=t[1],c=Object(q.useState)([]),s=Object(Q.a)(c,2),r=s[0],i=s[1],o=Object(q.useState)(null),j=Object(Q.a)(o,2),l=j[0],b=j[1];Object(q.useEffect)((function(){var e=function(){var e=Object(J.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=7;break}return e.next=3,d(n);case 3:t=e.sent,i(t.data),e.next=9;break;case 7:i([]),u();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n]);var d=function(e){return te.a.get("".concat("http://www.dogmadevs.com:9000","/users/search"),{params:{text:e},withCredentials:!0})},u=function(){b(null)},O=!!l,m=O?"simple-popover":void 0;return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(fc.a,{id:m,open:O,anchorEl:l,onClose:u,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},disableAutoFocus:!0,disableEnforceFocus:!0,children:Object(je.jsxs)("div",{className:Object(ce.a)(na||(na=Object($.a)(["padding: 1em; width: 15em; max-height: 20em; overflow-y: scroll;"]))),children:[r.length>0&&r.map((function(e,t){return Object(je.jsx)(xc,{children:Object(je.jsx)(pe,{user:e,imageStyle:Object(ce.a)(aa||(aa=Object($.a)(["width: 2em; height: 2em;"]))),onClick:function(){return b(null)}})},t)})),0===r.length&&Object(je.jsx)("p",{children:"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})]})}),Object(je.jsx)("input",{type:"text",value:n,className:pc,onChange:function(e){a(e.target.value),0===e.target.value.length?(i([]),u()):l||b(e.target)},placeholder:"\uac80\uc0c9"})]})},vc=Object(ce.a)(ca||(ca=Object($.a)(["\n  width: 1.5em;\n  height: 1.5em;\n  margin-right: 1em;\n  cursor: pointer;\n"]))),wc=Object(ce.a)(sa||(sa=Object($.a)(["\n  margin-right: 0.5em;\n"]))),Cc=function(){var e=Object(q.useContext)(ne),t=e.user,n=e.checkCookie,a=e.setUser,c=Object(q.useState)(!1),s=Object(Q.a)(c,2),r=s[0],i=s[1],o=function(){var e=Object(J.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.a.get("".concat("http://www.dogmadevs.com:9000","/users/logout"),{withCredentials:!0});case 2:n(),a({_id:"",name:"",avatar:"",email:""});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(je.jsxs)("div",{id:"TopBar",children:[Object(je.jsx)(sn,{open:r,onClose:function(){i(!1)}}),Object(je.jsx)(xe.b,{to:"/",children:Object(je.jsx)("span",{className:"logo",children:"Minstagram"})}),Object(je.jsx)(gc,{}),Object(je.jsxs)("span",{id:"TopBarRightSide",children:[Object(je.jsxs)("span",{id:"TopBarButtons",children:[Object(je.jsx)("a",{className:Object(ce.a)(ra||(ra=Object($.a)(["cursor: pointer;"]))),children:Object(je.jsx)(hc.a,{className:Object(ce.a)(ia||(ia=Object($.a)(["margin-right: 0.5em; vertical-align: middle;"]))),onClick:o})}),Object(je.jsx)("a",{href:"https://psychedelic-feeling-5d5.notion.site/Junyeong-Choi-e84719c1ecfc464a9fc06908fd68a8b5",children:Object(je.jsx)(Oc.a,{className:Object(ce.a)(oa||(oa=Object($.a)(["margin-right: 0.5em; vertical-align: middle;"])))})}),Object(je.jsx)("img",{src:dc,className:vc,onClick:function(){i(!0)}})]}),Object(je.jsx)("span",{className:wc,children:Object(je.jsx)(pe,{nameHide:!0,user:t,imageStyle:Object(ce.a)(ja||(ja=Object($.a)(["width: 1.5em; height: 1.5em;"])))})})]})]})},kc=n(220),yc=n(128),Nc=n.n(yc),Sc=Object(ce.a)(la||(la=Object($.a)(["\n  position: fixed;\n  bottom: 50px;\n  right: 50px;\n  cursor: pointer;\n"]))),Ac=Object(ce.a)(ba||(ba=Object($.a)(["\n  align-items: center;\n  flex-direction: column;\n  overflow-y: scroll;\n  height: calc(100% - 4em);\n  justify-content: center;\n  padding-top: 4em;\n"]))),Ec=function(e){var t,n=Object(q.useContext)(ne).user,a=Object(q.useState)(null!==(t=e.posts)&&void 0!==t?t:[]),c=Object(Q.a)(a,2),s=c[0],r=c[1],i=Object(q.useState)(!1),o=Object(Q.a)(i,2),j=o[0],l=o[1],b=Object(q.useState)(""),d=Object(Q.a)(b,2),u=d[0],O=d[1],m=Object(q.useState)(!1),h=Object(Q.a)(m,2),f=h[0],x=h[1],p=Object(q.useState)(),g=Object(Q.a)(p,2),v=g[0],w=g[1],C=Object(q.useState)(1),k=Object(Q.a)(C,2),y=k[0],N=k[1],S=Object(q.useState)(!0),A=Object(Q.a)(S,2),E=A[0],_=A[1],F=Object(q.useRef)();Object(q.useEffect)((function(){if(!e.posts&&E){var t=function(){var e=Object(J.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.a.get("".concat("http://www.dogmadevs.com:9000","/posts/"),{params:{pageSize:5,page:y,userId:n._id}});case 3:if((t=e.sent).data.data){e.next=7;break}return _(!1),e.abrupt("return");case 7:r((function(e){return[].concat(Object(he.a)(e),Object(he.a)(t.data.data))})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();t()}}),[y,E]);var L=Object(q.useCallback)((function(e){var t=e.target;t.scrollHeight-t.scrollTop===t.clientHeight&&N((function(e){return e+1}))}),[]);Object(q.useEffect)((function(){var e=Ha.a.throttle(L,150);return F.current&&F.current.addEventListener("scroll",e),function(){F.current&&F.current.removeEventListener("scroll",e)}}),[L,F.current]);return Object(je.jsxs)("div",{className:Ac,ref:F,children:[Object(je.jsx)($e.Provider,{value:{setToastOpen:l,toastMessage:u,setToastMessage:O},children:Object(je.jsxs)(Ye.Provider,{value:{deletePost:function(e){r((function(t){return[].concat(Object(he.a)(t.slice(0,e)),Object(he.a)(t.slice(e+1)))}))},editPost:function(e,t){r((function(n){return[].concat(Object(he.a)(n.slice(0,e)),[Object(X.a)(Object(X.a)({},n[e]),{},{text:t})],Object(he.a)(n.slice(e+1)))})),w(e)}},children:[0===s.length&&Object(je.jsx)("div",{children:"\ud45c\uc2dc\ud560 \ud3ec\uc2a4\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}),s.length>0&&function(){var e=s;return void 0!=v&&(e=[].concat(Object(he.a)(s.slice(0,v)),Object(he.a)(s.slice(v+1)))),f&&(e=Object(he.a)(e).reverse()),void 0!=v&&(e=[s[v]].concat(Object(he.a)(e))),e.map((function(t,n){return Object(je.jsx)(za,{post:t,order:f?e.length-n-1:n},t._id)}))}()]})}),Object(je.jsx)(Nc.a,{className:Sc,onClick:function(){x((function(e){return!e})),w(void 0)}}),Object(je.jsx)(kc.a,{open:j,autoHideDuration:6e3,onClose:function(e,t){"clickaway"!==t&&l(!1)},message:u})]})},_c=n(217),Fc=n(221),Lc=n(223),Mc=n(133),Tc=Object(ce.a)(da||(da=Object($.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),zc=Object(ce.a)(ua||(ua=Object($.a)(["\n  max-height: 30em; \n  max-width: 60em;\n  overflow-y: scroll;\n  display: flex;\n  flex-direction: column;\n"]))),Pc=Object(ce.a)(Oa||(Oa=Object($.a)(["\n  display: flex;\n  align-items: flex-end;\n"]))),Ic=Object(ce.a)(ma||(ma=Object($.a)(["\n  /* "," */\n  /* flex-direction: column;\n  align-self: flex-end; */\n  margin-right: 0;\n  margin-left: auto;\n"])),Pc),Rc=Object(ce.a)(ha||(ha=Object($.a)(["\n  ","\n  flex-direction: row;\n  align-self: flex-start;\n"])),Pc),Uc=Object(ce.a)(fa||(fa=Object($.a)(["\n  height: 1em;\n  padding: 1em;\n  border-radius: 1.2em;\n  margin-top: 0.3em;\n  margin-bottom: 0.3em;\n"]))),Dc=Object(ce.a)(xa||(xa=Object($.a)(["\n  ",";\n  background-color: blue;\n  position: relative;\n  text-align: right;\n"])),Uc),Hc=Object(ce.a)(pa||(pa=Object($.a)(["\n  ",";\n  background-color: red;\n  position: relative;\n  text-align: left;\n"])),Uc),Gc=Object(ce.a)(ga||(ga=Object($.a)(["\n  color: green;\n"]))),qc=function(e){var t=e.direct,n=Object(q.useContext)(ne).user;return Object(je.jsx)("div",{className:zc,children:t?t.messages.map((function(e){var t=e.author._id===n._id;return Object(je.jsx)("div",{className:Tc,children:Object(je.jsxs)("div",{className:t?Ic:Rc,children:[!t&&Object(je.jsx)("div",{className:Gc,children:Object(je.jsx)(pe,{user:e.author,nameHide:!0,imageStyle:Object(ce.a)(va||(va=Object($.a)(["width: 2em; height: 2em;"])))})}),Object(je.jsx)("div",{className:t?Dc:Hc,children:e.content})]})})})):"no content"})},Bc=n(132),Vc=n(89),Wc=n.n(Vc),Kc=["messages"],Yc="http://www.dogmadevs.com:9000",Jc=function(e){var t=e.users,n=Object(q.useState)(null),a=Object(Q.a)(n,2),c=a[0],s=a[1],r=Object(q.useState)(),i=Object(Q.a)(r,2),o=i[0],j=i[1],l=Object(q.useState)(""),b=Object(Q.a)(l,2),d=b[0],u=b[1],O=Object(q.useContext)(ne).user,m=function(e){s((function(t){if(!t)return null;var n=t.messages,a=Object(Mc.a)(t,Kc);return Object(X.a)({messages:[].concat(Object(he.a)(n),[e])},a)}))};Object(q.useEffect)((function(){var e=function(){var e=Object(J.a)(Y.a.mark((function e(){var n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.a.get("".concat(Yc,"/directs/withUsers"),{params:{userId1:t[0]._id,userId2:t[1]._id}});case 3:n=e.sent,s(n.data[0]),e.next=20;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.prev=10,e.next=13,te.a.post("".concat(Yc,"/directs/newRoom"),t.map((function(e){return e._id})));case 13:a=e.sent,s({_id:a.data,members:t,messages:[],bookmarks:[0,0]}),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(10),console.log(e.t1);case 20:case"end":return e.stop()}}),e,null,[[0,7],[10,17]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(q.useEffect)((function(){if(null!==c){0;var e=Object(Bc.a)(Yc);return e.on("connect",(function(){e.emit("join",c._id,Wc.a.get("credential"))})),e.on("messageEvent",m),j(e),function(){e.off("messageEvent",m),e.disconnect()}}}),[null===c||void 0===c?void 0:c.members]);return Object(je.jsxs)("div",{children:[c&&Object(je.jsx)(qc,{direct:c}),Object(je.jsxs)("div",{children:[Object(je.jsx)("input",{type:"text",value:d,onChange:function(e){return u(e.target.value)}}),Object(je.jsx)("input",{type:"button",value:"\ubcf4\ub0b4\uae30",onClick:function(){var e={author:O,content:d,timestamp:new Date};o&&o.emit("messageEvent",e),u("")}})]})]})},Qc="http://www.dogmadevs.com:9000",Zc=Object(ce.a)(wa||(wa=Object($.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n"]))),Xc=function(){var e=Object(q.useContext)(ne).user,t=Object(q.useState)([]),n=Object(Q.a)(t,2),a=n[0],c=n[1],s=Object(q.useState)(),r=Object(Q.a)(s,2),i=r[0],o=r[1],j=Object(q.useState)(""),l=Object(Q.a)(j,2),b=l[0],d=l[1];Object(q.useLayoutEffect)((function(){te.a.get("".concat(Qc,"/directs/withUsers"),{params:{userId1:e._id}}).then((function(e){c(e.data)}))}),[e]);var u=function(t){return function(){o(t),te.a.post("".concat(Qc,"/directs/updateBookmark"),{roomId:a[t]._id,userId:e._id})}},O=function(){var t=Object(J.a)(Y.a.mark((function t(){var n,a,s,r;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te.a.get("".concat(Qc,"/users/name"),{params:{name:b}});case 2:return n=t.sent,a=[e,n.data],t.next=6,te.a.post("".concat(Qc,"/directs/newRoom"),{members:a});case 6:s=t.sent,r={_id:s.data,members:a,messages:[],bookmarks:[0,0]},c((function(e){return[].concat(Object(he.a)(e),[r])}));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(je.jsxs)("div",{className:Zc,children:[Object(je.jsxs)("div",{children:[Object(je.jsx)(_c.a,{children:a.map((function(t,n){return function(t,n){for(var a=t.members.filter((function(t){return t._id!==e._id}))[0],c=-1,s=0;s<t.members.length;s++)t.members[s]._id===e._id&&(c=s);var r=t.messages.length-t.bookmarks[c]-1;return Object(je.jsx)(Fc.a,{children:Object(je.jsx)(Lc.a,{primary:"".concat(a.name," ").concat(r,"\uac1c \uba54\uc2dc\uc9c0"),onClick:u(n)},n)})}(t,n)}))}),Object(je.jsx)("input",{type:"text",value:b,onChange:function(e){return d(e.target.value)}}),Object(je.jsx)("input",{type:"button",onClick:O,value:"\uc2dc\uc791"})]}),null!=i&&Object(je.jsx)(Jc,{users:a[i].members})]})};var $c=function(){var e=B.a.useState(!1),t=Object(Q.a)(e,2),n=t[0],a=t[1],c=Object(q.useState)({_id:"",name:"",avatar:"",email:""}),s=Object(Q.a)(c,2),r=s[0],i=s[1],o=function(){return Wc.a.get("credential")?(a(!0),r._id.length>0&&Object(J.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.a.get("".concat("http://www.dogmadevs.com:9000","/users/").concat(r._id),{withCredentials:!0});case 3:t=e.sent,i(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))(),!0):(a(!1),!1)};return Object(q.useLayoutEffect)((function(){o()}),[]),Object(je.jsx)(ne.Provider,{value:{isAuthenticated:n,setIsAuthenticated:a,user:r,setUser:i,checkCookie:o},children:Object(je.jsxs)("div",{className:"App",children:[!n&&Object(je.jsx)(me,{}),n&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Cc,{}),Object(je.jsx)("div",{id:"contentWrapper",children:Object(je.jsxs)(ge.c,{children:[Object(je.jsx)(ge.a,{exact:!0,path:"/directs",children:Object(je.jsx)(Xc,{})}),Object(je.jsx)(ge.a,{exact:!0,path:"/login",children:Object(je.jsx)(me,{})}),Object(je.jsx)(ge.a,{exact:!0,path:"/posts/:postId",children:Object(je.jsx)("div",{className:Ac,children:Object(je.jsx)(za,{})})}),Object(je.jsx)(ge.a,{path:"/:userNameParam",children:Object(je.jsx)(bc,{})}),Object(je.jsx)(ge.a,{exact:!0,path:"/",children:Object(je.jsx)(Ec,{})})]})})]})]})})},es=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,228)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};W.a.render(Object(je.jsx)(B.a.StrictMode,{children:Object(je.jsx)(xe.a,{children:Object(je.jsx)($c,{})})}),document.getElementById("root")),es()}},[[182,1,2]]]);
//# sourceMappingURL=main.a8b80874.chunk.js.map